<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:100,200,300,400,500,600,700,800,900&subset=latin,latin-ext'
        rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic,700italic'
        rel='stylesheet' type='text/css'/>
    <link href="https://developer.blackboard.com/assets/portal/menu-styles.css" rel='stylesheet' type='text/css' />
    <link href="https://developer.blackboard.com/assets/portal/main-styles.css" rel="stylesheet" type="text/css" />
    <link href="https://developer.blackboard.com/assets/portal/styles_ultra.css" rel="stylesheet" type="text/css" />
    <link href="https://developer.blackboard.com/assets/portal/dev-portal.css" rel="stylesheet" type="text/css" />
    <link href="/assets/css/styles.css" rel="stylesheet" type="text/css" />

    <title></title>
    
    <link rel="shortcut icon" type="image/x-icon" href='https://developer.blackboard.com/assets/portal/favicon.ico'>
    <script>
        /* Set the width of the side navigation to 250px */
        function openNav() {
            document.getElementById("mySidenav").style.width = "500px";
            document.getElementById("main").style.marginLeft = "500px";
            document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
        }

        /* Set the width of the side navigation to 0 */
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("main").style.marginLeft = "0";
            document.body.style.backgroundColor = "white";
        }
    </script>
    <script>
      /* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
      var dropdown = document.getElementsByClassName("dropdown-btn");
      var i;
      
      for (i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var dropdownContent = this.nextElementSibling;
        if (dropdownContent.style.display === "block") {
        dropdownContent.style.display = "none";
        } else {
        dropdownContent.style.display = "block";
        }
        });
      }
    </script>
    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" />
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/Blackboard%20Learn%20Developers/REST/REST%20Demo%20Using%20curl%20to%20access%20content%20attachments.html" />
<meta property="og:url" content="http://localhost:4000/Blackboard%20Learn%20Developers/REST/REST%20Demo%20Using%20curl%20to%20access%20content%20attachments.html" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/Blackboard%20Learn%20Developers/REST/REST%20Demo%20Using%20curl%20to%20access%20content%20attachments.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>
  <body>
    <div id='top-content'>
    <div id="header" class='header-min-width'>
        <div id="header-logos">
            <div id="header-logos-left-container" class='inline-box'>
                <a id="bb-home-logo-link" href="http://www.blackboard.com" target="_blank"><img class="bb-home-logo-image" src="https://developer.blackboard.com/assets/images/bb_logo_subpages.png" alt="Blackboard"/></a>
            </div>
            <div id="header-logos-right-container" class='inline-box'>
                
                    <a href="Contact.html" class="header-section-link">Contact Us</a>
                
                    <a href="https://community.blackboard.com/developers" class="header-section-link">Community</a>
                
                    <a href="https://developer.blackboard.com" class="header-section-link">Developer Portal</a>
                
                    <a href="BECOME%20AN%20OFFICIAL%20BLACKBOARD%20PARTNER!.html" class="header-section-link">Become a Partner</a>
                
                    <a href="/Get%20Involved.html" class="header-section-link">Get Involved</a>
                
            </div>
            <br class="clearBoth"/>
        </div>
            
        <br />
        <div class="wrap">
            <div id="subhead-section" class="subhead-icon-header-interaction">
                <h1 style="color: white;">Developer Documentation</h1>
            </div>
        </div>
    </div>
</div>
    <nav style='background-color: black;'>
  
    <a href="/" class="header-section-link">Home</a>
  
    <a href="/Blackboard%20Learn%20Developers/Integrate%20with%20Blackboard%20Learn.html" class="header-section-link">Learn</a>
  
    <a href="/Blackboard%20Collaborate%20Developers/Getting%20Started%20With%20The%20Blackboard%20Collaborate%20REST%20APIs.html" class="header-section-link">Collab</a>
  
    <a href="/Blackboard%20ConnectTxt%20Developers/Blackboard%20ConnectTxt%20Developer%20Documentation.html" class="header-section-link">ConnectTxt</a>
  
    <a href="/Blackboard%20Mobile%20Developers/Blackboard%20App%20for%20Students%20Launch%20Schema.html" class="header-section-link">Mobile</a>
  
    <a href="/Blackboard%20OpenLMS%20Developers/Blackboard%20Open%20LMS%20Approved%20Plugin%20Program%20(MAP).html" class="header-section-link">OpenLMS</a>
  
    <a href="/Developer%20Version%20of%20Blackboard%20Applications/What%20is%20a%20DVBA%3F.html" class="header-section-link">DVBA</a>
  
    <a href="/Standards/Welcome%20To%20Standards.html" class="header-section-link">Standards</a>
  
</nav>
    <section>
      <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a><br>
    
        <ul>
            
                    <li><a href="/Blackboard%20Learn%20Developers/Integrate%20with%20Blackboard%20Learn.html" class="header-section-link" >Learn</a></li>
                    
            
                    <li><a href="/Blackboard%20Learn%20Developers/REST/Getting%20Started%20With%20REST.html" class="header-section-link" >REST</a></li>
                    
                        <ul>
                            
                                <li><a href="/Blackboard%20Learn%20Developers/REST/Getting%20Started%20With%20REST.html" class="header-section-link" >Getting Started</a></li>
                                
                            
                                <li><a href="/Blackboard%20Learn%20Developers/REST/The%20Blackboard%20REST%20API%20Framework.html" class="header-section-link" >About</a></li>
                                
                            
                                <li><a href="/Blackboard%20Learn%20Developers/REST/advanced.html" class="header-section-link" >Advanced</a></li>
                                
                            
                                <li><a href="/Blackboard%20Learn%20Developers/REST/Register%20as%20a%20Developer%20and%20Manage%20Your%20Applications%20with%20the%20Developer%20Portal.html" class="header-section-link" >Admin</a></li>
                                
                            
                                <li><a href="/Blackboard%20Learn%20Developers/REST/Examples.html" class="header-section-link" >Examples</a></li>
                                
                                    <ul>
                                        
                                            <li><a href="/Blackboard%20Learn%20Developers/REST/REST%20Demo%20Using%20CSharp.html" class="header-section-link" >C#</a></li>
                                        
                                            <li><a href="/Blackboard%20Learn%20Developers/REST/REST%20Demo%20Using%20cURL.html" class="header-section-link" >cURL</a></li>
                                        
                                            <li><a href="/Blackboard%20Learn%20Developers/REST/REST%20Demo%20Using%20Golang.html" class="header-section-link" >Golang</a></li>
                                        
                                            <li><a href="/Blackboard%20Learn%20Developers/REST/REST%20Demo%20Using%20Java.html" class="header-section-link" >Java</a></li>
                                        
                                            <li><a href="/Blackboard%20Learn%20Developers/REST/REST%20Demo%20Using%20PHP.html" class="header-section-link" >PHP</a></li>
                                        
                                            <li><a href="/Blackboard%20Learn%20Developers/REST/REST%20Demo%20Using%20Python.html" class="header-section-link" >Python</a></li>
                                        
                                            <li><a href="/Blackboard%20Learn%20Developers/REST/REST%20Demo%20Using%20Ruby.html" class="header-section-link" >Ruby</a></li>
                                        
                                    </ul>
                                
                            
                        </ul>
                
            
                    <li><a href="/Blackboard%20Learn%20Developers/B2s/Getting%20Started%20With%20Building%20Blocks.html" class="header-section-link" >B2s</a></li>
                    
            
                    <li><a href="/Blackboard%20Learn%20Developers/SOAP%20-%20Deprecated/SOAP-to-REST%20Migration%20Mapping.html" class="header-section-link" >SOAP - Deprecated</a></li>
                    
            
        </ul>
    
        
</div>
      
<!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
<div id="main">
    <!-- Use any element to open the sidenav -->
    <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>

    <h1 id="rest-demo-using-curl-to-access-content-attachments">REST Demo: Using curl to access content attachments</h1>
<p><em>Author: Mark O’Neil</em><br />
<em>Categories: []</em><br />
<em>Tags: [‘developer’]</em></p>
<hr />

<p>The Learn REST API supports accessing Content Item information and URLs for
downloading content attachments.</p>

<p>The following is a cookbook that covers the basics for discovering and
downloading attachments for both an Ultra and an Original Course.</p>

<p>Unless noted the steps are the same. Note that we will only comment on
iteration requirements and forego execution thereof in this demo.</p>

<p>Note that <strong>_36662_1</strong> is an Ultra course and <strong>_60054_1</strong> is an Original
Course.</p>

<h2 id="step-one-generate-an-access-token">STEP ONE: Generate an Access Token</h2>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -k --user &lt;appkey&gt;:&lt;appsecret&gt; --data "grant_type=client_credentials" https://ultra-integ.int.bbpd.io/learn/api/public/v1/oauth2/token
</code></pre></div></div>

<p>Result:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{“access_token”:"QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr","token_type":"bearer","expires_in":3599}
</code></pre></div></div>

<h2 id="step-two-get-a-list-of-top-level-content">STEP TWO: GET a list of top level content</h2>

<p>Note this step is the same for both Ultra and Original courses</p>

<p><strong>Ultra</strong>:</p>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -k -X GET -H "Authorization: Bearer QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr" https://ultra-integ.int.bbpd.io/learn/api/public/v1/courses/_36662_1/contents
</code></pre></div></div>

<p>Results:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "results" : [
    {
      "parentId" : "_216719_1",
      "position" : 0,
      "availability" : {
        "allowGuests" : true,
        "available" : "No",
        "adaptiveRelease" : {
      }
    },
    "id" : "_596394_1",
    "title" : "SOAP Deprecation Announcement.pdf",
    "created" : "2018-11-28T18:38:50.621Z",
    "contentHandler" : {
      "id" : "resource\/x-bb-file",
      "file" : {
        "fileName" : "SOAP%20Deprecation%20Announcement.pdf"
      }
    }
  },
  {
    "parentId" : "_216719_1",
    "position" : 1,
    "availability" : {
      "allowGuests" : true,
      "available" : "Yes",
      "adaptiveRelease" : {
      }
    },
    "id" : "_435736_1",
    "title" : "Download PDF",
    "hasChildren" : true,
    "created" : "2017-08-23T19:16:34.781Z",
    "contentHandler" : {
      "id" : "resource\/x-bb-folder",
      "isBbPage" : true
    }
  }]
}
</code></pre></div></div>

<p><strong>Original</strong>:</p>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -k -X GET -H "Authorization: Bearer QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr" https://ultra-integ.int.bbpd.io/learn/api/public/v1/courses/_60054_1/contents
</code></pre></div></div>

<p>Results:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "results" : [
  {
      "position" : 1,
      "availability" : {
        "allowGuests" : true,
        "available" : "Yes",
        "adaptiveRelease" : {
        }
      },
      "id" : "_382277_1",
      "title" : "Information",
      "hasChildren" : true,
      "created" : "2017-06-09T12:41:07.019Z",
      "contentHandler" : {
        "id" : "resource\/x-bb-folder"
      }
    },
    {
      "position" : 2,
      "availability" : {
        "allowGuests" : true,
        "available" : "Yes",
        "adaptiveRelease" : {
      }
    },
    "id" : "_382278_1",
    "title" : "Content",
    "hasChildren" : true,
    "created" : "2017-06-09T12:41:07.021Z",
    "contentHandler" : {
      "id" : "resource\/x-bb-folder"
    }
  }]
}
</code></pre></div></div>

<h2 id="step-three-discover-downloadable-content">STEP THREE: Discover Downloadable Content</h2>

<p>Here you will iterate over the result set and based on a set of criteria
identify downloadable content. The criteria is whether a content item has an
id of <code class="highlighter-rouge">resource/x-bb-folder</code> or <code class="highlighter-rouge">resource/x-bb-document</code>, has child items, and
whether an item has an id of <code class="highlighter-rouge">resource/x-bb-file</code>.</p>

<p>So in the above examples the Ultra course, <code class="highlighter-rouge">_36662_1</code>, has one top level
downloadable and a folder with child content, and the Original course has two
folders.</p>

<p>In each case we would iterate over the result set and take the appropriate
action based on the content item id and whether the item, if a type of folder
or document, has children.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Get children
If folder
  Get children
  If document and Ultra Course parse BBML for attachment URL
else if not Ultra Course get attachments
  get attachment Id
  get attachment download
</code></pre></div></div>

<p>In this example both the Ultra and the Original course have folders, with
children so we need to determine whether any of the children in either are
downloadable content:</p>

<p><strong>Ultra</strong>:</p>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -i -k -X GET -H "Authorization: Bearer QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr" https://ultra-integ.int.bbpd.io/learn/api/p
ublic/v1/courses/_36662_1/contents/_435736_1/children
</code></pre></div></div>

<p>Response:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "results" : [
  {
    "parentId" : "_435736_1",
    "position" : 0,
    "availability" : {
      "allowGuests" : true,
      "available" : "Yes",
      "adaptiveRelease" : {
      }
    },
    "id" : "_435737_1",
    "title" : "ultraDocumentBody",
    "created" : "2017-08-23T19:16:38.848Z",
    "body" : "&lt;!-- {\"bbMLEditorVersion\":1} --&gt;&lt;a href=\"https:\/\/ultra-integ.int.bbpd.io\/bbcswebdav\/pid-435737-dt-content-rid-21916118_1\/xid-21916118_1?VxJw3wfC56=1543432981&amp;Kq3cZcYS15=a253d31a6d36425c81aaa457ee9e2f04&amp;3cCnGYSz89=f5CtU2s5tQcNJpZFO8tjCoIPZ9z6ZpOhzQpZ23SXyFk%3D\" data-bbfile=\"{&amp;quot;render&amp;quot;:&amp;quot;attachment&amp;quot;,&amp;quot;alternativeText&amp;quot;:&amp;quot;SOAP Deprecation Announcement.pdf&amp;quot;,&amp;quot;linkName&amp;quot;:&amp;quot;SOAP Deprecation Announcement.pdf&amp;quot;,&amp;quot;mimeType&amp;quot;:&amp;quot;application\/pdf&amp;quot;}\" data-bbid=\"bbml-editor-id_e18bbfe0-876c-448e-b178-0d8371738b86\"&gt;SOAP Deprecation Announcement.pdf&lt;\/a&gt;",
    "contentHandler" : {
      "id" : "resource\/x-bb-document"
    }
  }]
}
</code></pre></div></div>

<p><strong>Original</strong>:</p>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -k -X GET -H "Authorization: Bearer QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr" https://ultra-integ.int.bbpd.io/learn/api/public/v1/courses/_60054_1/contents/_382278_1/children
</code></pre></div></div>

<p>Response:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  “results”:[{
    “id”:”_382277_1”,
    “title":"Information",
    “created":"2017-06-09T12:41:07.019Z",
    “position":1,
    “hasChildren":true,
    “availability”:{
      "available":"Yes",
      “allowGuests":true,
      “adaptiveRelease”:{}
    },
    “contentHandler":{
      “id":"resource/x-bb-folder"
    }
  },
  {
    “id":"_382278_1",
    “title”:"Content",
    “created":"2017-06-09T12:41:07.021Z",
    “position":2,
    “hasChildren":true,
    “availability”:{
      "available":"Yes",
      “allowGuests":true,
      "adaptiveRelease":{}
    },
    “contentHandler":{
      “id":"resource/x-bb-folder"
    }
  }]
}
</code></pre></div></div>

<p>Here we have a document and a folder - we can access the found document and
then continue iterating on requests until we had no folders and have walked
the folder tree.</p>

<h2 id="step-four-accessing-found-documents">STEP FOUR: Accessing found documents</h2>

<p>Here is where Ultra is handled differently than Original.</p>

<p>In Ultra the URL for the attachment is embedded in the BBML for the content
Item as shown in this snippet from the above example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"body" : "&lt;!-- {\"bbMLEditorVersion\":1} --&gt;&lt;a href=\"**https:\/\/ultra-integ.int.bbpd.io\/bbcswebdav\/pid-435737-dt-content-rid-21916118_1\/_xid-21916118_1_?VxJw3wfC56=1543432981&amp;Kq3cZcYS15=a253d31a6d36425c81aaa457ee9e2f04&amp;3cCnGYSz89=f5CtU2s5tQcNJpZFO8tjCoIPZ9z6ZpOhzQpZ23SXyFk%3D**\" data-bbfile=\"{&amp;quot;render&amp;quot;:&amp;quot;attachment&amp;quot;,&amp;quot;alternativeText&amp;quot;:&amp;quot;SOAP Deprecation Announcement.pdf&amp;quot;,&amp;quot;linkName&amp;quot;:&amp;quot;SOAP Deprecation Announcement.pdf&amp;quot;,&amp;quot;mimeType&amp;quot;:&amp;quot;application\/pdf&amp;quot;}\" data-bbid=\"bbml-editor-id_e18bbfe0-876c-448e-b178-0d8371738b86\"&gt;SOAP Deprecation Announcement.pdf&lt;\/a&gt;"
</code></pre></div></div>

<p>To access the document URL for downloading you must search the bbml and
extract any href string that contains a content item xid:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https:\/\/ultra-integ.int.bbpd.io\/bbcswebdav\/pid-435737-dt-content-rid-21916118_1\/_xid-21916118_1_?VxJw3wfC56=1543432981&amp;Kq3cZcYS15=a253d31a6d36425c81aaa457ee9e2f04&amp;3cCnGYSz89=f5CtU2s5tQcNJpZFO8tjCoIPZ9z6ZpOhzQpZ23SXyFk%3D
</code></pre></div></div>

<p>These URL strings represent content item attachments in Ultra.</p>

<p><strong>Original</strong>:</p>

<p>In the case of an Original course once you have identified a content item as
an attachment via the <code class="highlighter-rouge">"id" : "resource\/x-bb-document</code> tag you then may get
the attachment id. Thus you must iterate through the content Ids to discover
content which has the x-bb-document identifier :</p>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -i -k -X GET -H "Authorization: Bearer QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr" https://ultra-integ.int.bbpd.io/learn/api/public/v1/courses/_60054_1/contents/_382278_1
</code></pre></div></div>

<p>Result:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  “id”:"_382278_1",**
  “title":"Information",
  “created":"2017-06-09T12 : 41 : 07.019Z”,
  “position":1,"hasChildren":true,
  “availability":{
    “available":"Yes",
    “allowGuests":true,
    "adaptiveRelease":{}
  },
  “contentHandler":{
    “id":"resource/x-bb-folder"
  }
}
</code></pre></div></div>

<p>We have a folder so get it’s children…</p>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -i -k -X GET -H "Authorization: Bearer QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr" https://ultra-integ.int.bbpd.io/learn/api/public/v1/courses/_60054_1/contents/_382278_1/children
</code></pre></div></div>

<p>Response:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  “results”:[{
    “id":"_596395_1",
    “parentId":"_382278_1",
    "title":"FOLDER OF PDFs”,
    "body":"&lt;p&gt;Folder containing downloadable content&lt;/p&gt;”,
    “created":"2018-11-28T20:01:00.691Z",
    “position":0,
    “hasChildren":true,
    “availability":{
      “available":"Yes",  
      “allowGuests":true,
      “adaptiveRelease”:{}
    },
    “contentHandler":{
      “id":"resource/x-bb-folder"
    }
  }]
}
</code></pre></div></div>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -i -k -X GET -H "Authorization: Bearer QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr" https://ultra-integ.int.bbpd.io/learn/api/public/v1/courses/_60054_1/contents/_596395_1
</code></pre></div></div>

<p>Response:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  “id":"_596395_1",
  “parentId":"_382278_1",
  "title":"FOLDER OF PDFs”,
  "body":"&lt;p&gt;Folder containing downloadable content&lt;/p&gt;”,
  “created":"2018-11-28T20:01:00.691Z",
  “position":0,
  “hasChildren":true,
  “availability":{
    “available":"Yes",
    “allowGuests":true,
    “adaptiveRelease”:{}
  },
  “contentHandler":{
    “id":"resource/x-bb-folder"
  }
}
</code></pre></div></div>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -i -k -X GET -H "Authorization: Bearer QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr" https://ultra-integ.int.bbpd.io/learn/api/public/v1/courses/_60054_1/contents/_596395_1/children
</code></pre></div></div>

<p>Response:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  “results":[{
    “id":"_596397_1",
    “parentId":"_596395_1",
    "title":"SOAP Deprecation PDF”,
    ”created”:"2018-11-28T20:02:13.612Z",
    “position":0,
    “availability":{
      “available":"Yes",
      “allowGuests":true,
      “adaptiveRelease":{}
    },
    “contentHandler":{
      “id":"resource/x-bb-document"
    }
  }]
}
</code></pre></div></div>

<p>Now we have a document - check to see if there are any attachments…</p>

<p>Note that there may be multiple file attachments - in this case there is only
one.</p>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -i -k -X GET -H "Authorization: Bearer QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr" https://ultra-integ.int.bbpd.io/learn/api/public/v1/cotsses/_60054_1/contents/_596397_1/attachments
</code></pre></div></div>

<p>Response:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "id":"_42588_1",
  "fileName":"SOAP Deprecation Announcement.pdf”,”mimeType":"application/pdf"
}
</code></pre></div></div>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -k -X GET -H "Authorization: Bearer 8vHQpudSKbIx68jC6M5rykN66R2p048Z" https://ultra-integ.int.bbpd.io/learn/api/public/v1/courses/_60054_1/contents/_596397_1/attachments/_42588_1
</code></pre></div></div>

<p>Response:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "id":"_42588_1",
  "fileName":"SOAP Deprecation Announcement.pdf”,"mimeType":"application/pdf"
}
</code></pre></div></div>

<p>Once you have the Attachment Id you may request the download URL:</p>

<p>Note that the download URL is contained in the response header’s Location
element so you have to add the -i|—include flag to the curl command to display
the response headers:</p>

<p>Request:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -i -k -X GET -H "Authorization: Bearer QvWicpu3kMA9coWMv7TKLPzYnq4nUnfr" https://ultra-integ.int.bbpd.io/learn/api/public/v1/courses/_60054_1/contents/_596397_1/attachments/_42588_1/download
</code></pre></div></div>

<p>Response:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 302
Cache-Control: private
Cache-Control: max-age=0
Cache-Control: no-store
Cache-Control: must-revalidate
Content-Security-Policy: frame-ancestors 'self'
Content-Type: application/octet-stream
Date: Wed, 28 Nov 2018 23:40:32 GMT
Expires: Tue, 28 Nov 2017 23:40:32 GMT
Last-Modified: Sat, 28 Nov 1998 23:40:32 GMT
Location: https://ultra-integ.int.bbpd.io/bbcswebdav/xid-21916142_1?VxJw3wfC56=1543449332&amp;Kq3cZcYS15=a253d31a6d36425c81aaa457ee9e2f04&amp;3cCnGYSz89=A9bgt2bWD7NXyIzsI5kHPQQKBCpZ/qnQZ6XM2cqmZPI%3D
P3P: CP="CAO PSA OUR"
Pragma: private
Server: openresty/1.9.3.1
Set-Cookie: JSESSIONID=96003AD1BF73967D9CE359D5037BDECE; Path=/learn/api;
Secure
X-Blackboard-appserver: ip-10-145-23-249.ec2.internal
X-Blackboard-product: Blackboard Learn &amp;#8482; 3500.7.0-ci.4055+6a82373
X-Frame-Options: SAMEORIGIN
Content-Length: 0
Connection: keep-alive
</code></pre></div></div>

<h2 id="step-five">STEP FIVE:</h2>

<p>Rinse-repeat for additional folder or document content items.</p>


</div>
    </section>
  </body>
</html>