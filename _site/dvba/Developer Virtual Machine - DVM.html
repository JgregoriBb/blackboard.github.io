<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:100,200,300,400,500,600,700,800,900&subset=latin,latin-ext'
        rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic,700italic'
        rel='stylesheet' type='text/css'/>
    <link href="https://developer.blackboard.com/assets/portal/menu-styles.css" rel='stylesheet' type='text/css' />
    <link href="https://developer.blackboard.com/assets/portal/main-styles.css" rel="stylesheet" type="text/css" />
    <link href="https://developer.blackboard.com/assets/portal/styles_ultra.css" rel="stylesheet" type="text/css" />
    <link href="https://developer.blackboard.com/assets/portal/dev-portal.css" rel="stylesheet" type="text/css" />
    <link href="/assets/css/styles.css" rel="stylesheet" type="text/css" />

    <title></title>
    
    <link rel="shortcut icon" type="image/x-icon" href='https://developer.blackboard.com/assets/portal/favicon.ico'>
    <script>
        /* Set the width of the side navigation to 250px */
        function openNav() {
            document.getElementById("mySidenav").style.width = "500px";
            document.getElementById("main").style.marginLeft = "500px";
            document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
        }

        /* Set the width of the side navigation to 0 */
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("main").style.marginLeft = "0";
            document.body.style.backgroundColor = "white";
        }
    </script>
    <script>
      /* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
      var dropdown = document.getElementsByClassName("dropdown-btn");
      var i;
      
      for (i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var dropdownContent = this.nextElementSibling;
        if (dropdownContent.style.display === "block") {
        dropdownContent.style.display = "none";
        } else {
        dropdownContent.style.display = "block";
        }
        });
      }
    </script>
    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" />
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/dvba/Developer%20Virtual%20Machine%20-%20DVM.html" />
<meta property="og:url" content="http://localhost:4000/dvba/Developer%20Virtual%20Machine%20-%20DVM.html" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/dvba/Developer%20Virtual%20Machine%20-%20DVM.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>
  <body>
    <div id='top-content'>
    <div id="header" class='header-min-width'>
        <div id="header-logos">
            <div id="header-logos-left-container" class='inline-box'>
                <a id="bb-home-logo-link" href="http://www.blackboard.com" target="_blank"><img class="bb-home-logo-image" src="https://developer.blackboard.com/assets/images/bb_logo_subpages.png" alt="Blackboard"/></a>
            </div>
            <div id="header-logos-right-container" class='inline-box'>
                
                    <a href="Contact.html" class="header-section-link">Contact Us</a>
                
                    <a href="https://community.blackboard.com/developers" class="header-section-link">Community</a>
                
                    <a href="https://developer.blackboard.com" class="header-section-link">Developer Portal</a>
                
                    <a href="BECOME%20AN%20OFFICIAL%20BLACKBOARD%20PARTNER!.html" class="header-section-link">Become a Partner</a>
                
                    <a href="/Get%20Involved.html" class="header-section-link">Get Involved</a>
                
            </div>
            <br class="clearBoth"/>
        </div>
            
        <br />
        <div class="wrap">
            <div id="subhead-section" class="subhead-icon-header-interaction">
                <h1 style="color: white;">Developer Documentation</h1>
            </div>
        </div>
    </div>
</div>
    <nav style='background-color: black;'>
  
    <a href="/" class="header-section-link">Home</a>
  
    <a href="/learn/Integrate%20with%20Blackboard%20Learn.html" class="header-section-link">Learn</a>
  
    <a href="/collab/Getting%20Started%20With%20The%20Blackboard%20Collaborate%20REST%20APIs.html" class="header-section-link">Collab</a>
  
    <a href="/connecttxt/Blackboard%20ConnectTxt%20Developer%20Documentation.html" class="header-section-link">ConnectTxt</a>
  
    <a href="/mobile/Blackboard%20App%20for%20Students%20Launch%20Schema.html" class="header-section-link">Mobile</a>
  
    <a href="/openlms/Blackboard%20Open%20LMS%20Approved%20Plugin%20Program%20(MAP).html" class="header-section-link">OpenLMS</a>
  
    <a href="/dvba/What%20is%20a%20DVBA%3F.html" class="header-section-link">DVBA</a>
  
    <a href="/standards/Welcome%20To%20Standards.html" class="header-section-link">Standards</a>
  
</nav>
    <section>
      <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a><br>
    
        <a href="What%20is%20a%20DVBA%3F.html" class="header-section-link" >DVBA Home</a><br />
    
        <a href="Using%20the%20Blackboard%20Learn%20AMI%20for%20REST%20and%20LTI%20Development.html" class="header-section-link" >Developer AMI</a><br />
    
        <a href="Developer%20Virtual%20Machine%20-%20DVM.html" class="header-section-link" >DVM</a><br />
    
</div>
      
<!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
<div id="main">
    <!-- Use any element to open the sidenav -->
    <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>

    <h1 id="developer-virtual-machine---dvm">Developer Virtual Machine - DVM</h1>
<p><em>Author: Scott Hurrey</em><br />
<em>Categories: []</em><br />
<em>Tags: [‘developer resources’, ‘blackboard learn’, ‘developer virtual machine’, ‘dvm’, ‘learn’, ‘developer’]</em></p>
<hr />

<p>The DVM is only available to clients and partners with Behind the
Blackboard access. You <em>*can*</em> gain access to a developer instance of
Blackboard for developing LTI and RESTful applications using our <a href="Using%20the%20Blackboard%20Learn%20AMI%20for%20REST%20and%20LTI%20Development.html">Amazon Web
Services Developer AMI</a>, available in the
Amazon Marketplace. If you prefer the Virtual Machine, or you wish to develop
Building Blocks, you must first be a contracted client or partner. For more
information about becoming a Blackboard Partner, see <a href="/BECOME%20AN%20OFFICIAL%20BLACKBOARD%20PARTNER!.html">Become a Blackboard
Partner and Gain Access To Behind the Blackboard and Partner SaaS
Systems</a>.</p>

<p>Blackboard provides a preconfigured VirtualBox developer virtual machine (DVM)
to help developers quickly test and validate Building Blocks and REST
integrations. This article will help you set up the DVM.</p>

<h3 id="license">License</h3>

<p><em>You are downloading a Blackboard Learn Developer Virtual Machine instance
(the “Bb Virtual Machine”) containing the Blackboard Learn™ developer
software. The Bb Virtual Machine shall be deemed a part of the Blackboard
Developer Software provided to you pursuant to the terms of your developer
license agreement with Blackboard. All terms and conditions of your developer
license agreement to the Blackboard Learn™ software shall remain in full force
and effect and shall apply in all respects to the Bb Virtual Machine and your
use thereof. The Bb Virtual Machine and the Blackboard Learn™ developer
software contained therein are provided “as is”. Except as expressly stated in
your developer license agreement, Blackboard disclaims all warranties and
liability associated with the Bb Virtual Machine and your use thereof. By
clicking ‘Accept’ below and/or by downloading or accessing the Bb Virtual
Machine, you re-affirm your agreement to the terms of your developer license
agreement for the Blackboard Learn™ software and further agree that your use
of the Bb Virtual Machine shall be subject to the terms and conditions of your
developer license agreement. If you do not agree to the foregoing terms, you
may not download or use the Bb Virtual Machine.</em></p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>Developer-class workstation or laptop that supports Linux virtual machines.</li>
  <li><a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> 5.0.14 must be installed and operational.</li>
  <li><a href="https://www.vagrantup.com/downloads.html">Vagrant</a> 1.74 or later must be installed and operational.</li>
  <li>Behind the Blackboard Access - Read <a href="/BECOME%20AN%20OFFICIAL%20BLACKBOARD%20PARTNER!.html">Become a Blackboard Partner and Gain Access To Behind the Blackboard and Partner SaaS Systems.</a></li>
</ul>

<h2 id="installation">Installation</h2>

<ol>
  <li>
    <p>Create a directory on your computer for your Vagrant VM. For example: $HOME/Vagrant/Learn</p>
  </li>
  <li>Download the Vagrant virtual machine and Vagrantfile from Behind the Blackboard and place them in the directory listed in Step 1.
    <ul>
      <li>9.1 Q4 2018 (3500) or greater: Install a recent version and see <a href="https://community.blackboard.com/blogs/4/22">Upgrade Your DVM</a> if you need the latest version.</li>
      <li><a href="https://behind.blackboard.com/downloads/details.aspx?d=1787">9.1 Q2 2018</a> (3400)</li>
      <li><a href="https://behind.blackboard.com/downloads/details.aspx?d=1784">9.1 Q4 2017</a> (3300)</li>
      <li><a href="https://behind.blackboard.com/downloads/details.aspx?d=1779">9.1 Q2 2017</a> (3200)</li>
      <li><a href="https://behind.blackboard.com/downloads/details.aspx?d=1770">9.1 Q4 2016</a> (3100)</li>
      <li><a href="https://behind.blackboard.com/downloads/details.aspx?d=1746">9.1 Q2 2016</a> (3000)</li>
    </ul>
  </li>
  <li>Run the following commands in that directory:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vagrant up

vagrant ssh
</code></pre></div>    </div>
  </li>
  <li>
    <p>If you are on a Windows host machine, you may experience issues logging into the VM because of Windows’ management of SSH. Alternatively, you can log into the VM using any SSH client you want by connecting to <em>localhost:2222</em> and using the credentials <em>vagrant/vagrant</em>. Additionally, help is available on the <a href="https://www.vagrantup.com/downloads.html">Vagrant site</a>.</p>
  </li>
  <li>Blackboard Learn should automatically start when the machine is booted up.</li>
</ol>

<h2 id="using-the-virtual-machine">Using the Virtual Machine</h2>

<p>You can now access your developer instance of Learn at <strong>http://localhost:9876</strong> or <strong>https://localhost:9877</strong>. The Learn administrator login credentials are <em>administrator</em>/password.</p>

<h3 id="developer-license">Developer License</h3>

<p>This virtual machine is pre-licensed with a developers license, and is not
intended to be re-licensed with your institution’s license or personal
developer license. Because a Developer license is in use, there are certain
limitations:</p>

<ul>
  <li>150 Users</li>
  <li>100 Courses</li>
  <li>1000 Enrollments</li>
</ul>

<h3 id="starting-block">Starting Block</h3>

<p>This Building Block allows you to deploy your Building Block remotely, and is
already installed and configured on this virtual machine.</p>

<h4 id="bb-configproperties">bb-config.properties</h4>

<p>You can modify this VM to mimic either a SaaS-like configuration or an
Enterprise 9.1 configuration. In the bb-config.properties file, there is a
variable to control whether the Building Block uses the standard content
directory or a local cached copy. SaaS uses a local cached copy of the
Building Block directory on each app server. Toggling this value to true
mimics this behavior.</p>

<p><code class="highlighter-rouge">bbconfig.plugins.cache.enabled=false // Default behavior, just like Learn 9.1</code></p>

<p>-OR-</p>

<p><code class="highlighter-rouge">bbconfig.plugins.cache.enabled=true //Mimics B2 behavior of Learn SaaS</code></p>

<p>You will also need to shutdown Learn and copy the content directory that is
being used to the new location when making the switch. For example, the Q2
2016 DVM ships with bbconfig.plugins.cache.enabled=true. When you switch to
bbconfig.plugins.cache.enabled=false you will need to shutdown Learn and then
cp -r /usr/local/blackboard/cache/vi/BBLEARN/plugins/*
/usr/local/blackboard/content/vi/BBLEARN/plugins/ This copies the cache
directory content to the standard content directory.</p>

<p>As with any configuration change, a PushConfigUpdates is required in order to
have the change take affect.</p>

<p>See the Shared Content Folder section of <a href="/learn/B2s/Preparing%20Your%20Building%20Blocks%20For%20Learn%20SaaS%20and%20Newer%20Learn%20Versions.html">Preparing Your Building Blocks For
Learn SaaS and Newer Learn
Versions</a> for a detailed
explanation of the differences between the SaaS-like configuration and the
Enterprise 9.1 configuration.</p>

<h4 id="attaching-to-the-tomcat-debugger">Attaching to the Tomcat Debugger</h4>

<p>The tomcat debugger may be attached via port 9878.</p>

<h3 id="accessing-the-virtual-machine-users">Accessing the Virtual Machine Users</h3>

<p>The user which is by default logged onto the virtual machine is named vagrant
and has the password of <em>vagrant</em>.</p>

<p>After you have ssh’d to the virtual machine you have the need to perform root
privileged operations:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    vagrant ssh  
    su - root #the root password for the virtual machine is _vagrant_
</code></pre></div></div>

<h3 id="accessing-the-database-directly">Accessing the Database Directly</h3>

<p>To access the database directly (for running SQL), you must be logged in as
the <em>postgres</em> user:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    vagrant ssh  
    sudo su - postgres -c "psql BBLEARN"
</code></pre></div></div>

<p>The user and password for accessing the database when not logged in as the
postgres user is <em>postgres/postgres</em>.</p>

<p>Port 5432 is forwarded to your host machine at 9879, so you can set up a
“remote” connection using pgadminIII or your preferred database tool.</p>

<h3 id="tomcat-wrapper-timeout">Tomcat Wrapper Timeout</h3>

<p>The tomcat wrapper timeout value has been set to 0 to avoid the timing out of
the Java Debugger. The memory allocation is initially set to 4gb in the
Vagrantfile, as well. Simply modify the entry in Vagrantfile to adjust this
value.</p>

<h2 id="register-vm-with-the-cloud">Register VM With the Cloud</h2>

<p>The DVM must register with the cloud in order to use the API Gateway. Learn
more about this process
<a href="/learn/REST/Register%20Developer%20Instances%20to%20the%20Cloud.html">here</a>.</p>

<h2 id="common-issues">Common Issues</h2>

<ul>
  <li><a href="Solution%20to%20a%20PostgreSQL%20Error%20In%20the%20Developer%20Virtual%20Machine.html">Postgres Error</a></li>
  <li><a href="Solution%20to%20Unconnected%20sockets%20not%20implemented%20in%20a%20Q4%202015%20DVM.html">Unconnected Sockets</a></li>
</ul>

<p>To share comments and feedback on the developer virtual machine, please email
<a href="mailto:developers@blackboard.com">developers (at) blackboard (dot) com</a>.</p>


</div>
    </section>
  </body>
</html>