<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:100,200,300,400,500,600,700,800,900&subset=latin,latin-ext'
        rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic,700italic'
        rel='stylesheet' type='text/css'/>
    <link href="https://developer.blackboard.com/assets/portal/menu-styles.css" rel='stylesheet' type='text/css' />
    <link href="https://developer.blackboard.com/assets/portal/main-styles.css" rel="stylesheet" type="text/css" />
    <link href="https://developer.blackboard.com/assets/portal/styles_ultra.css" rel="stylesheet" type="text/css" />
    <link href="https://developer.blackboard.com/assets/portal/dev-portal.css" rel="stylesheet" type="text/css" />
    <link href="/assets/css/styles.css" rel="stylesheet" type="text/css" />

    <title></title>
    
    <link rel="shortcut icon" type="image/x-icon" href='https://developer.blackboard.com/assets/portal/favicon.ico'>
    <script>
        /* Set the width of the side navigation to 250px */
        function openNav() {
            document.getElementById("mySidenav").style.width = "300px";
            document.getElementById("main").style.marginLeft = "300px";
            document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
        }

        /* Set the width of the side navigation to 0 */
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("main").style.marginLeft = "0";
            document.body.style.backgroundColor = "white";
        }
    </script>
    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" />
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/Blackboard%20ConnectTxt%20Developers/ConnectTxt%20SOAP%20Connector%20for%20Address%20Book%20(v1.5).html" />
<meta property="og:url" content="http://localhost:4000/Blackboard%20ConnectTxt%20Developers/ConnectTxt%20SOAP%20Connector%20for%20Address%20Book%20(v1.5).html" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/Blackboard%20ConnectTxt%20Developers/ConnectTxt%20SOAP%20Connector%20for%20Address%20Book%20(v1.5).html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>
  <body>
    <div id="header" class='header-min-width'>
    <div id="header-logos">
        <div id="header-logos-left-container">
            <a id="bb-home-logo-link" href="http://www.blackboard.com" target="_blank"><img class="bb-home-logo-image" src="https://developer.blackboard.com/assets/images/bb_logo_subpages.png" alt="Blackboard"/></a>
    </div>
        <br class="clearBoth"/>
    </div>
        
        
    <div class="wrap">
        <div id="subhead-section" class="subhead-icon-header-interaction">
            <h1 style="color: white;">Developer Documentation</h1>
        </div>
    </div>
</div>
    <nav style='background-color: black;'>
  
    <a href="/" class="header-section-link">Home</a>
  
    <a href="/Blackboard%20Learn%20Developers/" class="header-section-link">Learn</a>
  
    <a href="/Blackboard%20Collaborate%20Developers/" class="header-section-link">Collab</a>
  
    <a href="/Blackboard%20ConnectTxt%20Developers/Blackboard%20ConnectTxt%20Developer%20Documentation.html" class="header-section-link">ConnectTxt</a>
  
    <a href="/Blackboard%20Mobile%20Developers/Blackboard%20App%20for%20Students%20Launch%20Schema.html" class="header-section-link">Mobile</a>
  
    <a href="/Blackboard%20OpenLMS%20Developers/Blackboard%20Open%20LMS%20Approved%20Plugin%20Program%20(MAP).html" class="header-section-link">OpenLMS</a>
  
    <a href="/Developer%20Version%20of%20Blackboard%20Applications/" class="header-section-link">DVBA</a>
  
    <a href="/Standards/" class="header-section-link">Standards</a>
  
    <a href="/Get%20Involved.html" class="header-section-link">Get Involved</a>
  
    <a href="BECOME%20AN%20OFFICIAL%20BLACKBOARD%20PARTNER!.html" class="header-section-link">Become a Partner</a>
  
    <a href="Contact.html" class="header-section-link">Contact Us</a>
  
    <a href="https://community.blackboard.com/developers" class="header-section-link">Community</a>
  
    <a href="https://developer.blackboard.com" class="header-section-link">Developer Portal</a>
  
</nav>
    <section>
      <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a><br>
    
        <a href="Blackboard%20ConnectTxt%20Developer%20Documentation.html" class="header-section-link" >Getting Started</a><br />
    
        <a href="ConnectTxt%20XML%20Connector.html" class="header-section-link" >XML Connector</a><br />
    
        <a href="ConnectTxt%20SOAP%20Connector%20for%20Messaging%20(v1.5).html" class="header-section-link" >SOAP Connector</a><br />
    
        <a href="ConnectTxt%20Email2Text.html" class="header-section-link" >Email2Text</a><br />
    
        <a href="ConnectTxt%20SOAP%20Connector%20for%20Address%20Book%20(v1.5).html" class="header-section-link" >Address Book</a><br />
    
        <a href="ConnectTxt%20Programming%20APIs.html" class="header-section-link" >APIs</a><br />
    
</div>
      
<!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
<div id="main">
    <!-- Use any element to open the sidenav -->
    <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>

    <h1 id="connecttxt-soap-connector-for-address-book-v15">ConnectTxt SOAP Connector for Address Book (v1.5)</h1>
<p><em>Author: Kelley MacEwen</em><br />
<em>Categories: []</em><br />
<em>Tags: [‘developer’]</em></p>
<hr />

<p>#</p>

<ul>
  <li>Introduction
    <ul>
      <li>Intended audience</li>
      <li>Useful tools</li>
      <li>What is SOAP?</li>
      <li>Why use the SOAP API?</li>
    </ul>
  </li>
  <li>Authentication</li>
  <li>The Address Book API
    <ul>
      <li>The address book operation
        <ul>
          <li>Understanding Object Equality</li>
          <li>Updating contact data</li>
          <li>Updating group data</li>
          <li>Examples</li>
          <li>Response</li>
          <li>Response example</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Known Issues</li>
  <li>Further Assistance</li>
</ul>

<h1 id="introduction">Introduction</h1>

<h2 id="intended-audience">Intended audience</h2>

<p>This document is aimed at txttools customers who wish to manage their online
address book remotely from their own application without using the txttools
web user interface.</p>

<p>Before reading this document and implementing a software client the reader
should have a solid understanding of the Hyper Text Transfer Protocol (HTTP)
and Extensible Markup Language (XML). In particular, the reader should
understand the HTTP request and request and response mechanisms and be able to
create well formed XML strings of data.</p>

<p>For more information regarding these technologies please refer to the
following guides:</p>

<p><strong>HTTP</strong></p>

<p><a href="https://community.blackboard.com/external-
link.jspa?url=http%3A//www.w3.org/Protocols/">http://www.w3.org/Protocols/</a></p>

<p><a href="https://community.b
lackboard.com/external-link.jspa?url=http%3A//en.wikipedia.org/wiki/Hy
pertext_Transfer_Protocol">http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol</a></p>

<p><strong>XML</strong></p>

<p><a href="https://community.blackboard.com/
external-
link.jspa?url=http%3A//www.xml.com/pub/a/98/10/guide0.html">http://www.xml.com/pub/a/98/10/guide0.html</a></p>

<p><a href="https://community.blackboard.com/external-
link.jspa?url=http%3A//en.wikipedia.org/wiki/XML">http://en.wikipedia.org/wiki/XML</a></p>

<h2 id="useful-tools">Useful tools</h2>

<p>To leverage the usability of SOAP web services you will require a SOAP client
capable of processing WSDL files and making SOAP calls to the API. Your aim is
to integrate your application/database/MIS System with the txttools SOAP API,
for which you will need to implement your own client. Java, .net, Oracle and
many other platforms provide some sort of SOAP client support framework
enabling you to create your own client as part of your application. You will
however require a ‘stand alone’ SOAP client which you can use to test out the
API and formulate the required XML to make a SOAP call. I suggest using a Java
based client called the Soap UI. It is platform independent and requires the
Java Runtime Environment installed which you should already have as part of a
standard Windows, MAC or Linux operating system distribution. The Soap UI is
free and may be downloaded from the following URI:</p>

<p><a href="https://community.blackboard.com/external-
link.jspa?url=http%3A//www.soapui.org/">http://www.soapui.org/</a></p>

<p>There are many other SOAP clients out there, but for the purposes of the
tutorials and examples in this document I will assume you are using the Soap
UI.</p>

<p>You may also require some XML editing schema validation tools to help you
create and validate your XML.</p>

<p><a href="https://community.blackboard.com/external-
link.jspa?url=http%3A//www.xmlcooktop.com/">http://www.xmlcooktop.com/</a></p>

<p>If you would like to closely inspect the HTTP traffic between your client and
the SOAP API then I suggest using the following application.</p>

<p><a href="https://community.blackboard.com/external-
link.jspa?url=http%3A//www.parosproxy.org/">http://www.parosproxy.org</a></p>

<h2 id="what-is-soap">What is SOAP?</h2>

<p><strong>S</strong>imple <strong>O</strong>bject <strong>A</strong>ccess <strong>P</strong>rotocol is an implementation of Service Oriented Architecture. It is a standard method for exchanging messages in XML format between computers over a network, usually HTTP. XML data may be passed between computers over HTTP on the request and response. SOAP is an extension of this and defines a standard XML format and port of call for schema discovery. A SOAP API is usually accompanied by a Web Service Description Language (WSDL) file and it is this which should be your first port of call for information about the services available to the client.</p>

<p>For a detailed discussion of SOAP and WSDL files see:</p>

<p><a href="https://community.blackboard.com/external-
link.jspa?url=http%3A//en.wikipedia.org/wiki/SOAP">http://en.wikipedia.org/wiki/SOAP</a></p>

<p><a href="https://commu
nity.blackboard.com/external-link.jspa?url=http%3A//en.wikipedia.org/wik
i/Web_Services_Description_Language">http://en.wikipedia.org/wiki/Web_Services_Description_Language</a></p>

<p>The WSDL file is an XML document which describes the ports and end points of
services which may be invoked by a call and the XML schema expected by each
service. The schema definitions show what data is required, the format it must
be in and the nature of the response the client should expect when invoking an
operation at an end point. This document is not meant to be human readable,
however if you provide it to a client, such as the Soap UI, the file will be
processed and a default request schema created for each service end point. The
client requires only the WSDL file, the service end point name and the data in
order to make a call to a service and invoke an operation.</p>

<h2 id="why-use-the-soap-api">Why use the SOAP API?</h2>

<p>txttools provides basic XML over HTTP APIs for both messaging and address book
functions. To use these APIs the client must provide an XML string in the
expected schema on the HTTP request. The SOAP mechanism is exactly the same,
its just some XML sent over HTTP on the request. So why bother using SOAP if
we already have an XML/HTTP API?</p>

<p>The reason is simple! The SOAP client does not need to know anything about the
expected XML schema prior to reading the WSDL, whereas an XML/HTTP API client
must provide the XML in the schema outlined in the documentation for that API,
the programmer creating the client must ensure the XML is hard coded with the
known schema.</p>

<p>If you don’t want to waste time hard coding String XML values into your client
then use the SOAP API rather than the old basic XML/HTTP API.</p>

<h1 id="authentication">Authentication</h1>

<p>A client must authenticate before invoking any operation from the SOAP API.
The client must provide the username and password in plain text for the
txttools account they wish to use. If you are using the messaging API any
messages you send will be sent from that account, any inbox messages you
retrieve will come from that account and will be designated as ‘read’ once the
API has successfully returned them in the SOAP response.</p>

<p>If you are using the address book API you will be managing contacts and groups
from that account address book and any account which shares that address book.
You must have permission to alter the address book before invoking any address
book API operation.</p>

<p>All txttools SOAP APIs employ the standard Web Services Security (WSSE)
specification to define authentication credentials. The specification is
defined by Oasis Open Standards Consortium, you can find more information at
the following URI:</p>

<p><a href="https://commu
nity.blackboard.com/external-link.jspa?url=http%3A//www.oasis-
open.org/committees/tc_home.php%3Fwg_abbrev%3Dwss">http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=wss</a></p>

<p>Clients must provide their credentials in plain text in the SOAP header of the
message. It is strongly recommended you use HTTPS for all your communication
with all txttools SOAP APIs, this will secure both your authentication
credentials in the header and any information you provide in the SOAP body.</p>

<p>Clients must provide both their account username and password in the format
outlined in the example below.</p>

<soapenv:Header>

<wsse:Security soapenv:mustUnderstand="1" xmlns:wsse="http://docs.oasis-
open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">

<wsse:UsernameToken wsu:Id="UsernameToken-2750779" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-
utility-1.0.xsd">

<wsse:Username>**_USERNAME_**</wsse:Username>

<wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-
username-token-profile-1.0#PasswordText">**_PASSWORD_**</wsse:Password>

</wsse:UsernameToken>

</wsse:Security>

</soapenv:Header>

<h1 id="the-address-book-api"><strong>The Address Book API</strong></h1>

<p>The txttools Address Book WSDL file can be found at:</p>

<p><a href="https://community.blackboard.com/external-link.jspa?url=http%3A//www.tx
ttools.co.uk/connectors/soap/addressbook/txttoolsAddressbook.wsdl">http://www.txttools.co.uk/connectors/soap/addressbook/txttoolsAddressbook.wsd
l</a></p>

<p>Processing the WSDL file reveals one service:</p>

<ul>
  <li>txttoolsAddressbookServiceBinding</li>
</ul>

<p>The service has one single operation:</p>

<ul>
  <li>Addressbook</li>
</ul>

<h2 id="the-address-book-operation"><strong>The address book operation</strong></h2>

<p>All address book management functions may be carried out by invoking this
operation. Different functions are executed depending upon the XML elements
you choose to include in the request body. The client may select to completely
overwrite the existing address book data with the request data or update it.</p>

<p>The functions which may be executed by invoking this operation include:</p>

<ul>
  <li>Add new/update/remove contact data to the address book</li>
  <li>Add new/update/remove groups/group data to the address book</li>
  <li>Add new or existing contacts to new or existing groups</li>
  <li>Disassociate existing contacts from a group</li>
  <li>Add new or existing sub groups to a group</li>
  <li>Add new or existing parent groups to a group</li>
  <li>Disassociate sub groups from a group</li>
  <li>Associate parents with a student contact – (Edutxt users only)</li>
  <li>Disassociate existing parents from a student contact – (Edutxt users only)</li>
</ul>

<p>The following table describes the XML SOAP body elements which may be used
within this operation. See the examples section (3.1.4) for details concerning
which XML elements to include for different address book functions.</p>

<p>The namespace prefix for all elements for this operation is -sch.</p>

<p><strong>Element</strong><strong>Description &amp; Format</strong><strong>Required</strong><strong>Cardinality</strong></p>

<p>AddressbookRequest</p>

<p>Contains all address book request XML sub elements.</p>

<p>Yes</p>

<p>1</p>

<p>Overwrite</p>

<p>Denotes whether the address book request should overwrite the entire current
address book, overwrite the contacts only, or update without removing any
previous data. True or all to overwrite all, contacts to only overwrite the
contacts, false to update. Defaults to false if not supplied.</p>

<p>No</p>

<p>0-1</p>

<p>Addressbook</p>

<p>Contains all address book data request XML sub elements.</p>

<p>Yes</p>

<p>1</p>

<p>Contact</p>

<p>Holds the information relating to a single new or existing address book
contact within the Addressbook element.</p>

<p>No</p>

<p>0 - many per Addressbook</p>

<p>Remove</p>

<p>Denotes whether to remove the contact from the address book. True to remove or
false to update. Defaults to false if omitted.</p>

<p>No</p>

<p>0-1 per Contact</p>

<p>Contact Details</p>

<p>Contains all contact details XML sub elements such as name and phone number.</p>

<p>Yes, in the context of Contact</p>

<p>1 per Contact</p>

<p>UniqueID</p>

<p>The unique identifier for this contact within the address book – alphanumeric
characters only.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>Firstname</p>

<p>The first name of the contact – alphanumeric characters only.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>Lastname</p>

<p>The last name /second name /surname of the contact – alphanumeric characters
only.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>Phonenumber</p>

<p>The mobile phone number of the contact. 11-14 characters in length, either in
international format starting with ‘+’ or ‘00’ followed by the international
prefix, or in standard UK format starting with ‘0’. All following characters
must be numeric.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>Email</p>

<p>The contact’s email address. Must be a valid email address.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>Notes</p>

<p>Any additional information you wish to supply for this contact. Max 255
alphanumeric characters.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>Gender</p>

<p>The contact’s gender – ‘Male’, ‘Female’, #NULL# tag or empty string</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>HouseNumber</p>

<p>The contact’s house number. Max 255 alphanumeric characters.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>Address1</p>

<p>The contact’s address details. Max 255 alphanumeric characters.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>Address2</p>

<p>The contact’s additional address details. Max 255 alphanumeric characters.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>City</p>

<p>The contact’s city. Max 255 alphanumeric characters.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>County</p>

<p>The contact’s county. Max 255 alphanumeric characters.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>Country</p>

<p>The contact’s country. Max 255 alphanumeric characters.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>Postcode</p>

<p>The contact’s postcode. Max 255 alphanumeric characters.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>DOB</p>

<p>The contact’s date of birth., must be valid date in YYYY-MM-DD format, #NULL#
tag or empty string.</p>

<p>No</p>

<p>0-1 per ContactDetails</p>

<p>AssociatedGroups</p>

<p>The groups for which this contact will be a member. If the group does not
already exist it will be created. See GroupDetails element.</p>

<p>No</p>

<p>0-1 per Contact</p>

<p>DisassociatedGroups</p>

<p>The existing groups within the address book for which this contact will be
disassociated. See GroupDetails element for more details.</p>

<p>No</p>

<p>0-1 per Contact</p>

<p>AssociatedParents</p>

<p>The parent contacts for which this contact will be associated as a child.
Applies to Edutxt users only. See ContactDetails element for more details.</p>

<p>No</p>

<p>0-1 per Contact</p>

<p>DisassociatedParents</p>

<p>The existing parent contacts for which this contact will be disassociated as a
child. Applies to Edutxt users only. See ContactDetails element for more
details.</p>

<p>No</p>

<p>0-1 per Contact</p>

<p>Group</p>

<p>Holds the information for a single new or existing group within the
Addressbook element.</p>

<p>No</p>

<p>0 - many per Addressbook</p>

<p>Remove</p>

<p>Denotes whether to remove the group from the address book. True to remove or
false to update. Defaults to false if omitted.</p>

<p>No</p>

<p>0-1 per Group</p>

<p>GroupDetails</p>

<p>Holds the details of the group, including name and description.</p>

<p>Yes, in the context of GroupDetails</p>

<p>0-1 per Group</p>

<p>Name</p>

<p>The name of the group. Maximum 100 alphanumeric characters. The name is case
insensitive if the client is referring to an existing object.</p>

<p>Yes, in the context of GroupDetails</p>

<p>1 per GroupDetails</p>

<p>Description</p>

<p>The description of the group. Maximum 255 alphanumeric characters.</p>

<p>No</p>

<p>0-1 per GroupDetails</p>

<p>Type</p>

<p>The named group type, either Group, Class or Year. Applies to Edutxt clients
only. Defaults to Group if omitted.</p>

<p>No</p>

<p>0-1 per GroupDetails</p>

<p>AssociatedContacts</p>

<p>The new or existing contacts to be members associated with this group. See
ContactDetails for more information.</p>

<p>No</p>

<p>0-1 per Group</p>

<p>DisassociatedContacts</p>

<p>The existing contacts to be disassociated from this existing group. See
ContactDetails for more information.</p>

<p>No</p>

<p>0-1 per Group</p>

<p>SubGroups</p>

<p>Sub groups contained within this group. The group hierarchy may be as deep as
the client wishes. A group may contain as many sub groups as the client wishes
and a child group may be a child of multiple parents. If a sub group is added
to a group that does not contain other sub groups, the parent group loses any
contacts it contains. See GroupDetails for more information about the sub
elements to use here.</p>

<p>No</p>

<p>0-1 per Group</p>

<p>DisassociatedSubGroups</p>

<p>The existing sub groups to be disassociated from this existing parent group.
See GroupDetails for more information.</p>

<p>No</p>

<p>0-1 per Group</p>

<h3 id="understanding-object-equality">Understanding Object Equality</h3>

<p>When updating or removing a contact from the address book it is essential to
uniquely identify the contact object you wish to manage. The simplest way to
do this is to ensure all contacts you upload to the address book are
identified with a unique id. A unique id is not required by the operation and
if you have not supplied a unique id, the contacts will try to be matched in
the following order:</p>

<ul>
  <li>Firstname, Lastname, Phone number</li>
  <li>Phone number</li>
  <li>Firstname, Lastname</li>
</ul>

<p>Group objects are unique per address book by case insensitive name. If you
wish to manage a group, add or remove contacts, then you must identify that
group by its name alone.</p>

<h3 id="updating-contact-data">Updating contact data</h3>

<p>When updating a contact within the address book you must identify the contact
by supplying the contact’s details in the ContactDetails request element as
described in 3.1.1. If the contact in the address book does not match any of
the details in 3.1.1, the contact cannot be updated via a SOAP request. Only
specify fields you wish to update – omitted fields in the request will remain
unchanged in the address book. In order to remove a field value from an
existing contact within the address book i.e. set it null, you must specify
that field with the null flag - #NULL#. Additionally self-closing tags</p>
<Firstname />
<p>and empty value tags <Firstname></Firstname> can be used to
remove a field value. Those fields which are validated by the SOAP API, such
as email, gender and phone number will allow only those valid values or the
null flag or an empty string value.</p>

<h3 id="updating-group-data">Updating group data</h3>

<p>When updating a group within the address book you must identify the group by
name. If the description field is not specified it will remain unchanged in
the address book, alternatively a new description can be entered. In order to
remove the description value from a group within the address book i.e. set it
null, you must specify the field with the null flag - #NULL#. Additionally
self-closing tags <Name></Name> and empty value tags <Name></Name> can be used to
remove a field value.</p>

<h3 id="examples"><strong>Examples</strong></h3>

<p>Update the address book adding two new contacts:</p>

<soapenv:Body>

<sch:AddressbookRequest>

<sch:Overwrite>false</sch:Overwrite>

<sch:Addressbook>

<sch:Contact>

<sch:ContactDetails>

<sch:UniqueId>1234567890</sch:UniqueId>

<sch:Firstname>John</sch:Firstname>

<sch:Lastname>Hunsley</sch:Lastname>

<sch:Phonenumber>+447772211117</sch:Phonenumber>

<sch:Email>[jhunsley@txttools.co.uk](mailto:jhunsley@txttools.co.uk)&lt;/sch:Emai
l&gt;

<sch:Notes>Technical Consultant</sch:Notes>

&lt;/sch:ContactDetails&gt;

&lt;/sch:Contact&gt;

<sch:Contact>

<sch:ContactDetails>

<sch:UniqueId>0987654321</sch:UniqueId>

<sch:Firstname>Olivier</sch:Firstname>

<sch:Lastname>Tane</sch:Lastname>

<sch:Phonenumber>+447817577380</sch:Phonenumber>

<sch:Email>[otane@txttools.co.uk](mailto:otane@txttools.co.uk)</sch:Email>

<sch:Notes>Support Manager</sch:Notes>

</sch:ContactDetails>

</sch:Contact>

&lt;/sch:Addressbook&gt;

&lt;/sch:AddressbookRequest&gt;

&lt;/soapenv:Body&gt;

Update the address book and update an existing contact with a new phone
number:

<soapenv:Body>

<sch:AddressbookRequest>

<sch:Overwrite>false</sch:Overwrite>

<sch:Addressbook>

<sch:Contact>

<sch:ContactDetails>

<sch:UniqueId>1234567890</sch:UniqueId>

<sch:Phonenumber>+447884050705</sch:Phonenumber>

</sch:ContactDetails>

</sch:Contact>

</sch:Addressbook>

</sch:AddressbookRequest>

</soapenv:Body>

Update the address book and remove an existing contact:

<soapenv:Body>

<sch:AddressbookRequest>

<sch:Overwrite>false</sch:Overwrite>

<sch:Addressbook>

<sch:Contact>

<sch:Remove>true</sch:Remove>

<sch:ContactDetails>

<sch:UniqueId>1234567890</sch:UniqueId>

</sch:ContactDetails>

</sch:Contact>

</sch:Addressbook>

</sch:AddressbookRequest>

</soapenv:Body>

Update the address book and add an existing contact to a new group whilst also
removing that contact's email, phone number and notes values:

<soapenv:Body>

<sch:AddressbookRequest>

<sch:Overwrite>false</sch:Overwrite>

<sch:Addressbook>

<sch:Contact>

<sch:ContactDetails>

<sch:UniqueId>0987654321</sch:UniqueId>

<sch:Email>#NULL#</sch:Email>

<sch:Phonenumber />

<sch:Notes></sch:Notes>

</sch:ContactDetails>

<sch:AssociatedGroups>

<sch:GroupDetails>

<sch:Name>Support Team</sch:Name>

<sch:Description>txttools support team</sch:Description>

</sch:GroupDetails>

</sch:AssociatedGroups>

</sch:Contact>

</sch:Addressbook>

</sch:AddressbookRequest>

</soapenv:Body>

Update the address book and remove an existing contact from a group, whilst
also changing the group's description:

<soapenv:Body>

<sch:AddressbookRequest>

<sch:Overwrite>false</sch:Overwrite>

<sch:Addressbook>

<sch:Contact>

<sch:ContactDetails>

<sch:UniqueId>0987654321</sch:UniqueId>

</sch:ContactDetails>

<sch:DisassociatedGroups>

<sch:GroupDetails>

<sch:Name>Support Team</sch:Name>

<sch:Description>txttools support team group</sch:Description>

</sch:GroupDetails>

</sch:DisassociatedGroups>

</sch:Contact>

</sch:Addressbook>

</sch:AddressbookRequest>

</soapenv:Body>

Remove an existing group from the address book:

<soapenv:Body>

<sch:AddressbookRequest>

<sch:Overwrite>false</sch:Overwrite>

<sch:Addressbook>

<sch:Group>

<sch:Remove>true</sch:Remove>

<sch:GroupDetails>

<sch:Name>Support Team</sch:Name>

</sch:GroupDetails>

</sch:Group>

</sch:Addressbook>

</sch:AddressbookRequest>

</soapenv:Body>

Update the address book and add one new contact and one existing contact to
two new groups as sub groups of another new parent group:

<soapenv:Body>

<sch:AddressbookRequest>

<sch:Overwrite>false</sch:Overwrite>

<sch:Addressbook>

<sch:Group>

<sch:GroupDetails>

<sch:Name>txttools Team</sch:Name>

<sch:Description>the txttools team</sch:Description>

</sch:GroupDetails>

<sch:SubGroups>

<sch:Group>

<sch:GroupDetails>

<sch:Name>Support Team</sch:Name>

<sch:Description>the support team</sch:Description>

</sch:GroupDetails>

<sch:AssociatedContacts>

<sch:ContactDetails>

<sch:UniqueId>0987654321</sch:UniqueId>

</sch:ContactDetails>

</sch:AssociatedContacts>

</sch:Group>

<sch:Group>

<sch:GroupDetails>

<sch:Name>Technical Team</sch:Name>

<sch:Description>the tech team</sch:Description>

</sch:GroupDetails>

<sch:AssociatedContacts>

<sch:ContactDetails>

<sch:UniqueId>1234567890</sch:UniqueId>

<sch:Firstname>John</sch:Firstname>

<sch:Lastname>Hunsley</sch:Lastname>

<sch:Phonenumber>+447772211117</sch:Phonenumber>

<sch:Email>[jhunsley@txttools.co.uk](mailto:jhunsley@txttools.co.uk)&lt;/sch:Emai
l&gt;

<sch:Notes>Technical Consultant</sch:Notes>

&lt;/sch:ContactDetails&gt;

&lt;/sch:AssociatedContacts&gt;

&lt;/sch:Group&gt;

&lt;/sch:SubGroups&gt;

&lt;/sch:Group&gt;

&lt;/sch:Addressbook&gt;

&lt;/sch:AddressbookRequest&gt;

&lt;/soapenv:Body&gt;

Update the address book and add one new contact to a new group as a sub group
of an existing group, and disassociate an existing sub group from the existing
group:

<soapenv:Body>

<sch:AddressbookRequest>

<sch:Overwrite>false</sch:Overwrite>

<sch:Addressbook>

<sch:Group>

<sch:GroupDetails>

<sch:Name>txttools Team</sch:Name>

</sch:GroupDetails>

<sch:SubGroups>

<sch:Group>

<sch:GroupDetails>

<sch:Name>Sales Team</sch:Name>

<sch:Description>The sales team</sch:Description>

</sch:GroupDetails>

<sch:AssociatedContacts>

<sch:ContactDetails>

<sch:UniqueId>1112222333</sch:UniqueId>

<sch:Firstname>Joe</sch:Firstname>

<sch:Lastname>Bloggs</sch:Lastname>

<sch:Phonenumber>+447812345678</sch:Phonenumber>

<sch:Email>[jbloggs@txttools.co.uk](mailto:jbloggs@txttools.co.uk)</sch:Email>

</sch:ContactDetails>

</sch:AssociatedContacts>

</sch:Group>

</sch:SubGroups>

<sch:DisassociatedSubGroups>

<sch:Group>

<sch:GroupDetails>

<sch:Name>Technical Team</sch:Name>

</sch:GroupDetails>

</sch:Group>

</sch:DisassociatedSubGroups>

</sch:Group>

</sch:Addressbook>

</sch:AddressbookRequest>

</soapenv:Body>

### **Response**

If the client has successfully invoked the Addressbook operation and the
function successfully carried out at txttools a success message is returned in
the SOAP response.

There is only one element in a successful invocation response as detailed
below. name space prefix for the body element is - **txttoolsAddressbook**

**Element****Description &amp; Format****Required****Cardinality**

AddressbookResponse

Wraps the address book response

Yes

1

Response

A strong - "Processed ok"

Yes

1

The invocation may not been successful for various reasons. If you have
provided invalid authentication credentials then you will receive a standard
WSSE security fault. You may not have permission to alter the address book, in
which case you will receive a fault response stating the exception. If you
receive anything other than the 'Processed ok' message you should assume the
operation has not taken place.

### **Response example**

A response following a successful invocation of the Addressbook operation:

<SOAP-ENV:Body>

<txttoolsAddressbook:AddressbookResponse xmlns:txttoolsAddressbook="http://www
.txttools.co.uk/connectors/soap/addressbook/schemas">

<txttoolsAddressbook:Response>Processed ok</txttoolsAddressbook:Response>

</txttoolsAddressbook:AddressbookResponse>

</SOAP-ENV:Body>

# **Known Issues**

There is currently one known issue with the SOAP API. If you find any others,
please contact us (details below).

  * When deleting a group from the address book, any associated contacts do not get evicted from any of the parent groups until the contact or one of the groups is saved again.

# **Further Assistance**

If you require further assistance with the examples or any of the information
covered in this document please contact the txttools team – 0113 234 2111 or
email [techies@txttools.co.uk](mailto:techies@txttools.co.uk).

</sch:Email></sch:ContactDetails></sch:AssociatedContacts></sch:Group></sch:SubGroups></sch:Group></sch:Addressbook></sch:AddressbookRequest></soapenv:Body></sch:Email></sch:ContactDetails></sch:Contact></sch:Addressbook></sch:AddressbookRequest></soapenv:Body>

</div>
    </section>
  </body>
</html>