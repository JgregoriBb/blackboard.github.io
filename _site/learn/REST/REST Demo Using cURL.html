<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:100,200,300,400,500,600,700,800,900&subset=latin,latin-ext'
        rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic,700italic'
        rel='stylesheet' type='text/css'/>
    <link href="https://developer.blackboard.com/assets/portal/menu-styles.css" rel='stylesheet' type='text/css' />
    <link href="https://developer.blackboard.com/assets/portal/main-styles.css" rel="stylesheet" type="text/css" />
    <link href="https://developer.blackboard.com/assets/portal/styles_ultra.css" rel="stylesheet" type="text/css" />
    <link href="https://developer.blackboard.com/assets/portal/dev-portal.css" rel="stylesheet" type="text/css" />
    <link href="/assets/css/styles.css" rel="stylesheet" type="text/css" />

    <title></title>
    
    <link rel="shortcut icon" type="image/x-icon" href='https://developer.blackboard.com/assets/portal/favicon.ico'>
    <script>
        /* Set the width of the side navigation to 250px */
        function openNav() {
            document.getElementById("mySidenav").style.width = "500px";
            document.getElementById("main").style.marginLeft = "500px";
            document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
        }

        /* Set the width of the side navigation to 0 */
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("main").style.marginLeft = "0";
            document.body.style.backgroundColor = "white";
        }
    </script>
    <script>
      /* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
      var dropdown = document.getElementsByClassName("dropdown-btn");
      var i;
      
      for (i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var dropdownContent = this.nextElementSibling;
        if (dropdownContent.style.display === "block") {
        dropdownContent.style.display = "none";
        } else {
        dropdownContent.style.display = "block";
        }
        });
      }
    </script>
    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" />
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/learn/REST/REST%20Demo%20Using%20cURL.html" />
<meta property="og:url" content="http://localhost:4000/learn/REST/REST%20Demo%20Using%20cURL.html" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/learn/REST/REST%20Demo%20Using%20cURL.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>
  <body>
    <div id='top-content'>
    <div id="header" class='header-min-width'>
        <div id="header-logos">
            <div id="header-logos-left-container" class='inline-box'>
                <a id="bb-home-logo-link" href="http://www.blackboard.com" target="_blank"><img class="bb-home-logo-image" src="https://developer.blackboard.com/assets/images/bb_logo_subpages.png" alt="Blackboard"/></a>
            </div>
            <div id="header-logos-right-container" class='inline-box'>
                
                    <a href="Contact.html" class="header-section-link">Contact Us</a>
                
                    <a href="https://community.blackboard.com/developers" class="header-section-link">Community</a>
                
                    <a href="https://developer.blackboard.com" class="header-section-link">Developer Portal</a>
                
                    <a href="BECOME%20AN%20OFFICIAL%20BLACKBOARD%20PARTNER!.html" class="header-section-link">Become a Partner</a>
                
                    <a href="/Get%20Involved.html" class="header-section-link">Get Involved</a>
                
            </div>
            <br class="clearBoth"/>
        </div>
            
        <br />
        <div class="wrap">
            <div id="subhead-section" class="subhead-icon-header-interaction">
                <h1 style="color: white;">Developer Documentation</h1>
            </div>
        </div>
    </div>
</div>
    <nav style='background-color: black;'>
  
    <a href="/" class="header-section-link">Home</a>
  
    <a href="/learn/Integrate%20with%20Blackboard%20Learn.html" class="header-section-link">Learn</a>
  
    <a href="/collab/Getting%20Started%20With%20The%20Blackboard%20Collaborate%20REST%20APIs.html" class="header-section-link">Collab</a>
  
    <a href="/connecttxt/Blackboard%20ConnectTxt%20Developer%20Documentation.html" class="header-section-link">ConnectTxt</a>
  
    <a href="/mobile/Blackboard%20App%20for%20Students%20Launch%20Schema.html" class="header-section-link">Mobile</a>
  
    <a href="/openlms/Blackboard%20Open%20LMS%20Approved%20Plugin%20Program%20(MAP).html" class="header-section-link">OpenLMS</a>
  
    <a href="/dvba/What%20is%20a%20DVBA%3F.html" class="header-section-link">DVBA</a>
  
    <a href="/standards/Welcome%20To%20Standards.html" class="header-section-link">Standards</a>
  
    <a href="/sitemap.html" class="header-section-link">Sitemap</a>
  
    <a href="/search.html" class="header-section-link">Search</a>
  
</nav>
    <section>
      <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a><br>
    
        <ul>
            
                    <li><a href="/learn/Integrate%20with%20Blackboard%20Learn.html" class="header-section-link" >Learn</a></li>
                    
            
                    <li><a href="/learn/REST/Getting%20Started%20With%20REST.html" class="header-section-link" >REST</a></li>
                    
                        <ul>
                            
                                <li><a href="/learn/REST/Getting%20Started%20With%20REST.html" class="header-section-link" >Getting Started</a></li>
                                
                            
                                <li><a href="/learn/REST/The%20Blackboard%20REST%20API%20Framework.html" class="header-section-link" >About</a></li>
                                
                            
                                <li><a href="/learn/REST/advanced.html" class="header-section-link" >Advanced</a></li>
                                
                            
                                <li><a href="/learn/REST/Register%20as%20a%20Developer%20and%20Manage%20Your%20Applications%20with%20the%20Developer%20Portal.html" class="header-section-link" >Admin</a></li>
                                
                            
                                <li><a href="/learn/REST/Examples.html" class="header-section-link" >Examples</a></li>
                                
                                    <ul>
                                        
                                            <li><a href="/learn/REST/REST%20Demo%20Using%20CSharp.html" class="header-section-link" >C#</a></li>
                                        
                                            <li><a href="/learn/REST/REST%20Demo%20Using%20cURL.html" class="header-section-link" >cURL</a></li>
                                        
                                            <li><a href="/learn/REST/REST%20Demo%20Using%20Golang.html" class="header-section-link" >Golang</a></li>
                                        
                                            <li><a href="/learn/REST/REST%20Demo%20Using%20Java.html" class="header-section-link" >Java</a></li>
                                        
                                            <li><a href="/learn/REST/REST%20Demo%20Using%20PHP.html" class="header-section-link" >PHP</a></li>
                                        
                                            <li><a href="/learn/REST/REST%20Demo%20Using%20Python.html" class="header-section-link" >Python</a></li>
                                        
                                            <li><a href="/learn/REST/REST%20Demo%20Using%20Ruby.html" class="header-section-link" >Ruby</a></li>
                                        
                                    </ul>
                                
                            
                        </ul>
                
            
                    <li><a href="/learn/B2s/Getting%20Started%20With%20Building%20Blocks.html" class="header-section-link" >B2s</a></li>
                    
            
                    <li><a href="/learn/SOAP%20-%20Deprecated/SOAP-to-REST%20Migration%20Mapping.html" class="header-section-link" >SOAP - Deprecated</a></li>
                    
            
        </ul>
    
        
</div>
      
<!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
<div id="main">
    <!-- Use any element to open the sidenav -->
    <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>

    <h1 id="rest-demo-using-curl">REST Demo Using cURL</h1>
<p><em>Author: Mark Bykerk Kauffman</em><br />
<em>Categories: []</em><br />
<em>Tags: [‘rest’, ‘blackboard learn’, ‘example’, ‘sample code’, ‘saas’, ‘api’, ‘curl’, ‘demo’, ‘3lo’, ‘three-legged oauth’, ‘developer’]</em></p>
<hr />

<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#assumptions">Assumptions</a></li>
  <li><a href="#walkthrough">Walkthrough</a>
    <ul>
      <li><a href="#authorization-and-authentication">Authorization and Authentication</a>
        <ul>
          <li><a href="#oauth2-basic-two-legged">OAuth2 Basic (Two Legged)</a></li>
          <li><a href="#oauth2-three-legged---3lo">OAuth2 (Three Legged) - 3LO</a></li>
        </ul>
      </li>
      <li><a href="#calling-services">Calling Services</a>
        <ul>
          <li><a href="#datasources">DATASOURCES</a></li>
          <li><a href="#users">USERS</a></li>
          <li><a href="#course-grades">COURSE GRADES</a></li>
          <li><a href="#access-content">ACCESS CONTENT</a></li>
          <li><a href="#course-copy">COURSE COPY</a></li>
          <li><a href="#add-content">ADD CONTENT</a></li>
          <li><a href="#create-assignment-with-attachment">CREATE ASSIGNMENT, WITH ATTACHMENT</a> - Currently Only Available For Ultra Courses</li>
          <li><a href="#submit-assignment-attempt-with-attachment">SUBMIT ASSIGNMENT ATTEMPT, WITH ATTACHMENT</a> - Currently Only Available For Presentation-0nly Assignments</li>
        </ul>
      </li>
      <li><a href="#common-errors">Common Errors</a></li>
    </ul>
  </li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>The rest demo script demonstrates authenticating a REST application,
management and use of the authorization token, and creating, updating,
discovering, and deleting the Data Source and User Learn objects. A video
presentation using this material plus an explanation of how to register your
REST application on the Developer Portal, and how to configure your
application’s REST integration on your Learn development system, is available
<a href="http://bit.ly/RestTechDeepDive4Partners">here</a>. Here
is the <a href="/attachments/2016.06.22.RestTechnicalDeepDiveForPartners.pptx">slide deck</a></p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>You must <a href="Register%20as%20a%20Developer%20and%20Manage%20Your%20Applications%20with%20the%20Developer%20Portal.html">register a developer account and application</a> in the Developer Portal</li>
  <li>You must 
<a href="Managing%20REST%20Integrations%20in%20Learn.html">register your application</a> in Blackboard Learn</li>
  <li>You must also configure the script as outlined in the README for the project</li>
</ul>

<p>This cURL command-line demonstration shows you how to:</p>

<ul>
  <li>Authenticate</li>
  <li>Create a Data Source</li>
  <li>Create, Read, and Update a User</li>
  <li>Delete created objects in reverse order of create - user, datasource.</li>
  <li>Create a grade column and add a grade.</li>
  <li>Upload a file to a content area.</li>
</ul>

<p>All generated output is sent to the terminal.</p>

<p>This is not meant to be a cURL tutorial. It will not teach you to use cURL. It
will, however, give a Developer familiar with cURL the knowledge necessary to
make a complete set of CRUD operations to the Learn REST endpoints.</p>

<h2 id="assumptions">Assumptions</h2>

<p>This help topic assumes the Developer:</p>

<ul>
  <li>is familiar with cURL.</li>
  <li>has a REST-enabled <a href="/Developer%Version%20of%20Blackboard%20Applications/What%20is%20a%20DVBA%3F.html">Blackboard Learn instance</a>.</li>
</ul>

<h2 id="walkthrough">Walkthrough</h2>

<p>To build an integration with the Blackboard REST Web Services, regardless of
the programming language of choice, can really be summed up in two steps:</p>

<ol>
  <li>Use the Application Key and Secret to obtain an <strong>OAuth 2.0 access token</strong>, as described in the <a href="Basic%20Authentication.html">Basic Authentication</a> document.</li>
</ol>

<p><strong>OR</strong></p>

<ol>
  <li>Use the authorizationcode endpoint to log into Learn with a given user’s credentials, then obtain an <strong>OAuth 2.0 access token</strong>, using the application key/secret, that only allows access to the system based on that particular user’s entitlements as described in the <a href="Three-Legged%20OAuth.html">Three-Legged OAuth</a> document.</li>
  <li>Call the appropriate REST endpoint with the <strong>OAuth 2.0 access token</strong> and necessary data to perform a given action.</li>
</ol>

<p>Every example is shown in bold face, the JSON result is shown in italics.</p>

<h3 id="authorization-and-authentication">Authorization and Authentication</h3>

<h4 id="oauth2-basic-two-legged">OAuth2 Basic (Two Legged)</h4>

<p>The REST Services rely on OAuth 2.0 Bearer Tokens for authentication. A
request is made to the token endpoint with a Basic Authorization header
containing the base64-encoded key:secret string as its key. The token service
returns a JSON object containing the Access Token, the Token Type, and the
number of seconds until the token expires. The token is set to expire after
one hour, and subsequent calls to retrieve the token will return the same
token with an updated expiry time until such time that the token has expired.
There is no refresh token and currently no revoke token method.</p>

<p>You can do this with cURL with the following command line. We use the -k
parameter to ignore issues caused by the self-signed certificate.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --user &lt;key&gt;:&lt;secret&gt; --data "grant_type=client_credentials" https://&lt;LearnHost&gt;/learn/api/public/v1/oauth2/token
</code></pre></div></div>

<p>Example:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --user d128e50d-c91e-47d3-a97e-9d0c8a87fb5d:kLpiuq34320jqreaiJIRoareASELERREv56 --data "grant_type=client_credentials"  https://localhost%3A9877/learn/api/public/v1/oauth2/token

{"access_token":"ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz","token_type":"bearer","expires_in":3444}
</code></pre></div></div>

<p>The JSON response is serialized into the Token object as shown above, and you
may then retrieve those values from that object by using copy and paste. You
will use the value given for the access_token when calling the services as
shown in the <a href="#calling-services"><strong>Calling Services</strong></a> section.</p>

<h4 id="oauth2-three-legged---3lo">OAuth2 (Three Legged) - 3LO</h4>

<p>To work with 3LO you will need both a browser, to log into Learn and retrieve
a code, and a terminal window for your cURL commands. Note: In step 1 the
client_id is NOT the Application ID. It IS the Application Key.</p>

<p><strong>Step 1. GET a code using your browser - CAUTION: You MUST set the scope parameter.</strong></p>

<p>Put the GET request in your browser’s address field. Craft a URL in the
following format:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://&lt;LearnHost&gt;//learn/api/public/v1/oauth2/authorizationcode?redirect_uri=&lt;REST APP URI&gt;&amp;response_type=code&amp;client_id=&lt;your **app key**&gt;&amp;scope=read
</code></pre></div></div>

<p>Example:</p>

<p>Place the URI below in your browser address field:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://community.blackboard.com/bd-partner-a-original.blackboard.com/learn/api/public/v1/oauth2/authorizationcode?redirect_uri=https://localhost&amp;response_type=code&amp;client_id=d128e50d-c91e-47d3-a97e-9d0c8a77fb5d&amp;scope=read
</code></pre></div></div>

<p>At this point you are requested to log in.</p>

<p><strong>As of 2018.04.19 there is a bug
with the cookie-acceptance pop up that will require you to accept the pop-up
and do the above a second time. Once your browser has the cookie-acceptance
cookie set for a given Learn system the work flow will carry on as follows.</strong></p>

<p>For this example, after you log in your browser will be directed to:
<code class="highlighter-rouge">https://localhost/?code=XYTdmQcSGrggzujJm2Ccf8C7dKyqKc7Q</code> (The code will be
different every time.) If you provided some other host name in the
redirect_uri, then that host name would be shown instead of localhost. Now you
have the code that you will use to retrieve the access token for all
additional REST calls.</p>

<p>NOTE regarding scope: The developer portal shows an example scope parameter as
“read write offline”. Using curl this would be <code class="highlighter-rouge">&amp;scope=read%20write%20offline</code></p>

<p>We have to URL encode the space character.</p>

<p><strong>Step 2. POST to get the OAuth2 Access Token</strong></p>

<p>You will use your application’s key and secret, and the access code from step</p>
<ol>
  <li>Notice that the grant_type is authorization_code in this case. Also note
that the redirect_uri value MUST match the value provided in Step 1. For our
Example we will use <code class="highlighter-rouge">https://localhost</code>.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --user &lt;key&gt;:&lt;secret&gt; --data "grant_type=authorization_code" https://&lt;LearnHost&gt;/learn/api/public/v1/oauth2/token
</code></pre></div>    </div>
  </li>
</ol>

<p>Example:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --user d128e50d-c91e-47d3-a97e-9d0c8a77fb5d:kLpiuq34320jqreaiJIRoareASELERREv56 --data "grant_type=authorization_code" https://bd-partner-a-original-new.blackboard.com/learn/api/public/v1/oauth2/token?code=ItmqfxQiA9dzIDNwNoNYseM5GNRHHl
fa\&amp;redirect_uri=https://localhost

{"access_token":"Cdf83I0dwRoweXuY1dZDbbW0f0WmDmuF","token_type":"bearer","expi
res_in":3599,"scope":"read","user_id":"7ac650e5bd0d467882943ed06fbfe72c"}
</code></pre></div></div>

<p>The JSON response is serialized into the Token object as shown above, and you
may then retrieve those values from that object by using copy and paste. You
will use the value given for the access_token when calling the services as
shown in the <a href="#calling-services"><strong>Calling Services</strong></a> section.</p>

<h3 id="calling-services">Calling Services</h3>

<p>The individual service calls are handled in succession here. We’ll use copy
and paste to create the JSON object in the form of a string, use cURL for
generating the appropriate HTTP Request, and shipping it to Learn. We’ll see
the JSON response come back to stdout on the console.</p>

<p>End points are generally defined as <code class="highlighter-rouge">/learn/api/public/v1/&lt;object
type&gt;/&lt;objectId&gt;</code>. Object ID can be either the pk1, like <code class="highlighter-rouge">_1_1</code>, or as the
batchuid. This value should be prepended by externalId:, like
<code class="highlighter-rouge">externalId:test101</code>.</p>

<p>For example, to retrieve a course by the pk1 <code class="highlighter-rouge">_1_1</code>, you would call <strong>GET
/learn/api/public/v1/courses/_1_1</strong>. To retrieve by the batchuid <code class="highlighter-rouge">test101</code>, you
would call <strong>GET /learn/api/public/v1/courses/externalId:test101.</strong></p>

<p>Create is sent to Learn as a HTTP POST message with a JSON body that defines
the object. The endpoint should omit the objectId, as this will be generated
on creation.</p>

<p>Read is sent to Learn as a HTTP GET message with an empty body. The endpoint
should include the objectId being retrieved.</p>

<p>Update is sent to Learn as a HTTP PATCH message with a JSON body that defines
the object. The endpoint should include the objectId being updated.</p>

<p>Delete is sent to Learn as a HTTP DELETE message with empty body. The endpoint
should include the objectId being deleted.</p>

<p>Every example is shown in bold face, the JSON result is shown in italics.</p>

<h3 id="datasources">DATASOURCES</h3>

<p><strong>Create</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X POST -H "Authorization: Bearer &lt;Access Token&gt;" -H "Content-Type: application/json" --data '{"externalId":"&lt;String&gt;","description":"&lt;String&gt;"}'https://&lt;LearnHost&gt;/learn/api/public/v1/dataSources
</code></pre></div></div>

<p>Bearer will be the access_token value we got from the oauth2/token call above.</p>

<p>Example:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X POST -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" -H "Content-Type: application/json" --data '{"externalId":"CURLDSK","description":"cURL Demo DSK"}' https://localhost:9877/learn/api/public/v1/dataSources

{"id":"_5_1","externalId":"CURLDSK","description":"cURL Demo DSK"}
</code></pre></div></div>

<p><strong>Read</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X GET -H "Authorization: Bearer &lt;Access Token&gt;" https://&lt;LearnHost&gt;/learn/api/public/v1/dataSources/externalId:&lt;externalId from create&gt;
</code></pre></div></div>

<p>Example:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X GET -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" https://localhost:9877/learn/api/public/v1/dataSources/externalId:CURLDSK

{"id":"_7_1","externalId":"CURLDSK","description":"cURL Demo DSK"}
</code></pre></div></div>

<p><strong>Update</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --request PATCH -H "Authorization: Bearer &lt;Access Token&gt;" -H "Content-Type: application/json" --data '{"externalId":"&lt;String&gt;","description":"&lt;String&gt;"}' https://&lt;LearnHost&gt;/learn/api/public/v1/dataSources/[&lt;primary id&gt;|externalId:&lt;String&gt;]
</code></pre></div></div>

<p>Examples:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --request PATCH -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" -H "Content-Type: application/json" --data '{"externalId":"CURLDSK","description":"cURL DEMONSTRATION DSK"}' https://localhost:9877/learn/api/public/v1/dataSources/_7_1

{"id":"_7_1","externalId":"CURLDSK","description":"cURL DEMONSTRATION DSK"}

</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --request PATCH -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" -H "Content-Type: application/json" --data '{"externalId":"CURLDSK","description":"cURL REST DEMO DSK"}' https://localhost:9877/learn/api/public/v1/dataSources/externalId:CURLDSK

{"id":"_7_1","externalId":"CURLDSK","description":"cURL REST DEMO DSK"}
</code></pre></div></div>

<p><strong>Delete (If you are going to run the following examples, do so now before deleting your demo DSK.)</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X DELETE -H "Authorization: Bearer &lt;Access Token&gt;" https://&lt;LearnHost&gt;/learn/api/public/v1/dataSources/[&lt;primary id&gt;|externalId:&lt;String&gt;]
</code></pre></div></div>

<p>Examples:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X DELETE -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" https://localhost:9877/learn/api/public/v1/dataSources/externalId:CURLDSK
</code></pre></div></div>

<p>With delete, you don’t see anything back on the command line to indicate your
delete was successful. You can run it again and you’ll see that the DSK is
truly gone.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X DELETE -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" https://localhost:9877/learn/api/public/v1/dataSources/externalId:CURLDSK

{"status":404,"message":"Could not find object with ID:  externalId:CURLDSK","extraInfo":"416d7b944a58482aaed2df50f301861b"}
</code></pre></div></div>

<h3 id="users">USERS</h3>

<p><strong>Create</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X POST -H "Authorization: Bearer &lt;Authorization Token&gt;" -H "Content-Type: application/json" --data '&lt;JSON to create a User&gt;' https://localhost:9877/learn/api/public/v1/users
</code></pre></div></div>

<p>Remember, you can always find the JSON specification for these calls at
<a href="https://developer.blackboard.com/portal/displayApi">Explore APIs</a></p>

<p>Example:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X POST -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" -H "Content-Type: application/json" --data '{"externalId":"restdemouser","dataSourceId":"_7_1","userName":"restdemouser","password":"xyzzy","availability":{"available":"Yes"},"name":{"given":"demo","family":"user","title":"Mr"},"contact":{"email":"no.one@ereh.won"}}' https://localhost:9877/learn/api/public/v1/users

{"id":"_7_1","uuid":"de2198a86c6645cbafaab13e79529e05","externalId":"restdemouser","dataSourceId":"_7_1","userName":"restdemouser","educationLevel":"Unknown","gender":"Unknown","created":"2016-05-11T21:39:11.518Z","systemRoleIds":["User"],"availability":{"available":"Yes"},"name":{"given":"demo","family":"user","title":"Mr"},"job":{},"contact":{"email":"no.one@ereh.won"},"address":{},"locale":{}}
</code></pre></div></div>

<p>By sheer coincidence this user’s ID, ‘_7_1’, came out to be the same as the DSK
ID, ‘_7_1’.</p>

<p>Note the availability of query parameters in the documentation at https://developer.blackboard.com.</p>

<p>Examples:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X GET -H "Authorization: Bearer bsdcojzT9i4qTaNE0T8ugEBcXE2U8jtu" https://bd-partner-a-ultra.blackboard.com/learn/api/public/v1/users?dataSourceId=_2_1\&amp;fields=externalId,userName,studentId

{"results":[{"externalId":"[abcd001@examity.com](mailto:abcd001@examity.com)","userName":"[abcd001@examity.com](mailto:abcd001@examity.com)","studentId":"ABCD001"},{"externalId":"[abcd002@examity.com](mailto:abcd002@examity.com)","userName":"[abcd002@examity.com](mailto:abcd002@examity.com)","studentId":"[ABCD002@examity.com](mailto:ABCD002@examity.com)"},...
</code></pre></div></div>

<p>On a Windows system, use ^ to escape the &amp;.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X GET -H "Authorization: Bearer bsdcojzT9i4qTaNE0T8ugEBcXE2U8jtu"
https://bd-partner-a-ultra.blackboard.com/learn/api/public/v1/users?dataSourceId=_220_1^&amp;fields=externalId,userName,studentId
</code></pre></div></div>

<p><strong>Read</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X GET -H "Authorization: Bearer &lt;Authorization Token&gt;" https://localhost:9877/learn/api/public/v1/users/[&lt;primary id&gt;|externalId:&lt;String&gt;]
</code></pre></div></div>

<p>Examples:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X GET -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" https://localhost:9877/learn/api/public/v1/users/externalId:restdemouser

{"id":"_7_1","uuid":"de2198a86c6645cbafaab13e79529e05","externalId":"restdemouser","dataSourceId":"_7_1","userName":"restdemouser","educationLevel":"Unknown","gender":"Unknown","created":"2016-05-11T21:39:11.518Z","systemRoleIds":["User"],"availability":{"available":"Yes"},"name":{"given":"demo","family":"user","title":"Mr"},"job":{},"contact":{"email":"no.one@ereh.won"},"address":{},"locale":{}}
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X GET -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" https://localhost:9877/learn/api/public/v1/users/_7_1

{"id":"_7_1","uuid":"de2198a86c6645cbafaab13e79529e05","externalId":"restdemouser","dataSourceId":"_7_1","userName":"restdemouser","educationLevel":"Unknown","gender":"Unknown","created":"2016-05-11T21:39:11.518Z","systemRoleIds":["User"],"availability":{"available":"Yes"},"name":{"given":"demo","family":"user","title":"Mr"},"job":{},"contact":{"email":"no.one@ereh.won"},"address":{},"locale":{}}
</code></pre></div></div>

<p><strong>Update</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --request PATCH -H "Authorization: Bearer &lt;Access Token&gt;" -H "Content-Type: application/json" --data '&lt;JSON Data for a User&gt;' https://&lt;LearnHost&gt;/learn/api/public/v1/users/[&lt;primary id&gt;|externalId:&lt;String&gt;]
</code></pre></div></div>

<p>Example:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --request PATCH -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" -H "Content-Type: application/json" --data '{"externalId":"restdemouser","dataSourceId":"_7_1","userName":"restdemouser","availability":{"available":"Yes"},"name":{"given":"Jane","family":"Demo","title":"Ms"},"contact":{"email":"no.one@ereh.won"}}' https://localhost:9877/learn/api/public/v1/users/_7_1

{"id":"_7_1","uuid":"de2198a86c6645cbafaab13e79529e05","externalId":"restdemouser","dataSourceId":"_7_1","userName":"restdemouser","educationLevel":"Unknown","gender":"Unknown","created":"2016-05-11T21:39:11.518Z","systemRoleIds":["User"],"availability":{"available":"Yes"},"name":{"given":"Jane","family":"Demo","title":"Ms"},"job":{},"contact":{"email":"no.one@ereh.won"},"address":{},"locale":{}}
</code></pre></div></div>

<p><strong>Delete</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X DELETE -H "Authorization: Bearer &lt;Access Token&gt;" https://&lt;LearnHost&gt;/learn/api/public/v1/users/[&lt;primary id&gt;|externalId:&lt;String&gt;]
</code></pre></div></div>

<p>Example:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X DELETE -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" https://localhost:9877/learn/api/public/v1/users/externalId:restdemouser
</code></pre></div></div>

<p>As with the DSK delete there is no output to the console when the delete is
successful. But, you can see that the user is gone by running the delete
again:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X DELETE -H "Authorization: Bearer ti3EVMVQO4RqdAgcpmODZdvjvHuuBHDz" https://localhost:9877/learn/api/public/v1/users/externalId:restdemouser

_{"status":404,"message":"Could not find object with ID:
externalId:restdemouser","extraInfo":"e709f6982af744dfae18d42f68e73fb1"}_
</code></pre></div></div>

<h3 id="course-grades">COURSE GRADES</h3>

<p>(Only in SaaS)</p>

<p><strong>Create Grade Column</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X POST -H "Authorization: Bearer &lt;Authorization Token&gt;" -H "Content-Type: application/json" --data '&lt;JSON to create a Grade Column&gt;' [https://saashost.blackboard.com/learn/api/public/v1/courses/{courseId}/gradebook/columns
</code></pre></div></div>

<p>Example:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X POST -H "Authorization: Bearer uFMWyuwgItXL0UzMo6AHG0zOhm0yvfys" -H "Content-Type: application/json" --data '{"id": "7","externalId": "co7extId","name": "co7name","description": "co7desc","externalGrade": true,"created":"2016-06-30T05:34:56.497Z","score": {"possible": 77,"decimalPlaces":0},"availability": {"available": "Yes"},"grading": {"type":"Manual","due": "2016-07-01T05:34:56.498Z", "attemptsAllowed":0,"scoringModel": "Last","anonymousGrading": { "type": "None","releaseAfter":"2016-07-11T05:34:56.498Z"}}}' https://partner-smoke-test-a.blackboard.com/learn/api/public/v1/courses/_50_1/gradebook/columns

{"id":"**_129_1**","externalId":"co7extId","name":"co7name","description":"co7
desc","externalGrade":true,"created":"2016-07-01T05:45:37.730Z","score":{"poss
ible":77.0,"decimalPlaces":0},"availability":{"available":"Yes"},"grading":{"t
ype":"Manual","due":"2016-07-01T05:34:56.498Z"}}
</code></pre></div></div>

<p><strong>Add/Update Column Grade</strong></p>

<p>(PATCH will create a grade where there isn’t one.)</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --request PATCH -H "Authorization: Bearer &lt;Access Token&gt;" -H "Content-Type: application/json" --data '&lt;JSON Data for a Column Grade&gt;' https://&lt;Learn Host&gt;/learn/api/public/v1/courses/{courseId}/gradebook/columns/{columnId}/users/{userId}
</code></pre></div></div>

<p>Example:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k --request PATCH -H "Authorization: Bearer uFMWyuwgItXL0UzMo6AHG0zOhm0yvfys" -H "Content-Type: application/json" --data '{"text": "A","score": 77,"notes": "Great","feedback": "GoodWork!", "exempt":true}' https://partner-smoke-test-a.blackboard.com/learn/api/public/v1/courses/_50_1/gradebook/columns/_129_1/users/_66_1

{"userId":"_66_1","columnId":"_129_1","status":"Graded","score":77.0,"notes":"Great","feedback":"GoodWork!","exempt":true}
</code></pre></div></div>

<h3 id="access-content">ACCESS CONTENT</h3>

<ul>
  <li>See <a href="REST%20Demo%20Using%20curl%20to%20access%20content%20attachments.html">Access Content Attachments</a></li>
</ul>

<h3 id="course-copy">COURSE COPY</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X POST -H "Authorization: Bearer &lt;Authorization Token&gt;" -H "Content-Type: application/json" --data '&lt;JSON for the course to copy into&gt;' https://saashost.blackboard.com/learn/api/public/v1/courses/{courseId}/copy
</code></pre></div></div>

<p>Example:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X POST -H "Authorization: Bearer RcHoSkh8EH9UKo6iCHWXDpCKrmCyOIwr" -H "Content-Type: application/json" --data '{"courseId":"mbk-test-copied201910111502"}' https://partner-smoke-test-a.blackboard.com/learn/api/public/v1/courses/courseId:mbk-test/copy
</code></pre></div></div>

<p>A new course with courseId: mbk-test-copied201910111502 is created. The
contents of mbk-test are copied into it.</p>

<p>NOTE: You can NOT copy contents into an already existing course. For example
we used the GUI to create a course with a courseId: mbk-test-
copied201910111508. Then we attempted to run the following:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -X POST -H "Authorization: Bearer RcHoSkh8EH9UKo6iCHWXDpCKrmCyOIwr" -H "Content-Type: application/json" --data '{"courseId":"mbk-test-copied201910111508"}' https://partner-smoke-test-a.blackboard.com/learn/api/p
ublic/v1/courses/_863_1/copy

{"status":409,"message":"A course with the provided courseId already exists"}
</code></pre></div></div>

<p>You can only use the copy endpoint to take an existing course and create and
copy into a new, never before created, course.</p>

<h3 id="add-content">ADD CONTENT</h3>

<p>(Remember to Check Availability of the APIs in the Learn Version)</p>

<p>Preconditions - You know the courseId, you’ve gotten an access token, and you
have a local file to upload.</p>

<ol>
  <li>Get a course’s contents.
```
curl -k -X GET -H “Authorization: Bearer TwniVbrjLoQnNVWexAGBgQEyMaw7GT0P” https://bd-partner-a-original.blackboard.com/learn/api/public/v1/courses/courseId:mbk-rest-contents/contents</li>
</ol>

<p>{“results”:[{“id”:”_12906_1”,”title”:”Information”,”created”:”2017-12-06T18:50:24.625Z”,”position”:1,”hasChildren”:true,”availability”:{“available”:”Yes”,”allowGuests”:true,”adaptiveRelease”:{}},”contentHandler”:{“id”:”resource/x-bb-folder”}},{“id”:”<strong>_12907_1</strong>”,”title”:”Content”,”created”:”2017-12-06T18:50:24.628Z”,”position”:2,”hasChildren”:true,”availability”:{“available”:”Yes”,”allowGuests”:true,”adaptiveRelease”:{}},”contentHandler”:{“id”:”resource/x-bb-folder”}}]}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
In the THIRD step we’ll place our file in the Content folder we see in the
above response. Every new Learn Original course has a Content folder by
default.

2. Upload a file.
</code></pre></div></div>
<p>curl -X POST -H “Authorization: Bearer TwniVbrjLoQnNVWexAGBgQEyMaw7GT0P” https://bd-partner-a-original.blackboard.com/learn/api/public/v1/uploads -F “file=@/Users/mbk/Documents/2016.09.BlackboardPartnerUpdate.pdf”</p>

<p>{“id”:”4B6281344DFDD9B1F36A5719BDB10708-38295ef0c6a74954a1055e1045bcfeeb”}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
3. Create the content item using bbXML and the id from the prior step.
</code></pre></div></div>
<p>{
  “title”: “Sept 2016 Partner Update”,
  “contentHandler”: {
    “id”: “resource/x-bb-file”,
    “file”: {
      “uploadId”:”4B6281344DFDD9B1F36A5719BDB10708-38295ef0c6a74954a1055e1045bcfeeb”,
      “fileName”: “2016.09.BlackboardPartnerUpdate.pdf”,
      “duplicateFileHandling”: “Rename”
    }
  }
}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Then call the appropriate endpoint:
</code></pre></div></div>
<p>curl -k -X POST -H “Authorization: Bearer TwniVbrjLoQnNVWexAGBgQEyMaw7GT0P” -H “Content-Type: application/json” –data ‘{“title”: “Sept 2016 Partner Update”,”contentHandler”: {“id”: “resource/x-bb-file”,”file”: {“uploadId”: “4B6281344DFDD9B1F36A5719BDB10708-38295ef0c6a74954a1055e1045bcfeeb”,”fileName”:”2016.09.BlackboardPartnerUpdate.pdf”, “duplicateFileHandling”: “Rename”}}}’ https://bd-partner-a-original.blackboard.com/learn/api/public/v1/courses/courseId:mbk-rest-contents/contents/_12907_1/children</p>

<p>{“id”:”_12908_1”,”parentId”:”_12907_1”,”title”:”Sept 2016 Partner Update”,”created”:”2017-12-06T19:22:59.536Z”,”position”:0,”availability”:{“available”:”Yes”,”allowGuests”:true,”adaptiveRelease”:{}},”contentHandler”:{“id”:”resource/x-bb-file”,”file”:{“fileName”:”2016.09.BlackboardPartnerUpdate.pdf”}}}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
You can, of course, use the id returned in the above to fetch the content item
using the appropriate GET. Read the documentation at developer.blackboard.com.

### CREATE ASSIGNMENT WITH ATTACHMENT

**Currently Only Available For Ultra Courses (Remember to check the Learn version for availably of the APIs @ [https://developer.blackboard.com](https://developer.blackboard.com))**

1. Get a course's content root. root will only work with the _abc_xyz ID
format. It will not work for courseId:&lt;course_id&gt; format.
</code></pre></div></div>
<p>curl -k -X GET -H “Authorization: Bearer <Access Token=""> " https://<LearnHost>/learn/api/public/v1/courses/<ID>/contents/root</ID></LearnHost></Access></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Example:
</code></pre></div></div>
<p>curl -k -X GET -H “Authorization: Bearer N75W0ceKowxtlMUZtuIqwwvPQtxvx3L5” https://bd-partner-a-ultra.blackboard.com/learn/api/public/v1/courses/_691_1/contents/root</p>

<p>{“id”:”_5108_1”,”title”:”ROOT”,”created”:”2018-04-08T15:57:34.188Z”,”position” :0,”hasChildren”:true,”availability”:{“available”:”Yes”,”allowGuests”:false,”adaptiveRelease”:{}},”contentHandler”:{“id”:”resource/x-bb-folder”}}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
2. Upload the file to be attached to the assignment.

Note: The file is uploaded to temporary storage so we must attach it to an
assignment shortly after the upload
</code></pre></div></div>
<p>curl -X POST -H “Authorization: Bearer N75W0ceKowxtlMUZtuIqwwvPQtxvx3L5” https://bd-partner-a-ultra.blackboard.com/learn/api/public/v1/uploads -F “file=@/Users/mbk/Documents/2016.06.BlackboardPartnerUpdate.pdf”</p>

<p>{“id”:”D1-D1165F42C7E11286BDAFDCCD2E2BE935-56c7b14aa4cb499b9a9a2a8cc3156290”}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
We use this id to indicate the file that is to be attached to the assignment.

3. Create the assignment with the file attached:

(The file must be attached soon after being uploaded as it is uploaded to a
temporary location and goes away sometime after being uploaded. Also, there is
a bug in the following where if attempts allowed is too large it will fail.
I've not experimented to find the limit.)

Reference: [POST /learn/api/public/v1/courses/{courseId}/contents/createAssignment](https://developer.blackboard.com/portal/displayApi)

Example:
</code></pre></div></div>
<p>curl -k -X POST -H “Authorization: Bearer N75W0ceKowxtlMUZtuIqwwvPQtxvx3L5” -H “Content-Type: application/json” –data ‘{“parentId”: “_5108_1”, “title”:”Assignment Created by REST createAssignment”, “instructions”: “Simple Instructions”, “description”: “Assignment with Attachment”, “position”: 0, “fileUploadIds”:[“D1-D1165F42C7E11286BDAFDCCD2E2BE935-56c7b14aa4cb499b9a9a2a8cc3156290”],”availability”: {“available”: “Yes”, “allowGuests”: true, “adaptiveRelease”: { “start”: “2018-04-05T18:35:20.050Z”, “end”: “2018-09-02T18:35:20.050Z” } }, “grading”: { “due”: “2018-09-02T18:35:20.050Z”, “attemptsAllowed”: 10 }, “score”: { “possible”: 100 } }’ https://bd-partner-a-ultra.blackboard.com/learn/api/public/v1/courses/courseId:mbk-ultra-course/contents/createAssignment</p>

<p>{“contentId”:”_6282_1”,”gradeColumnId”:”_3297_1”,”assessmentId”:”_11701_1”,”questionIds”:[“_11703_1”,”_11704_1”]}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
We will use the gradeColumnId when submitting a student attempt to the
assignment.

### SUBMIT ASSIGNMENT ATTEMPT WITH ATTACHMENT

Currently Only Available For Presentation-Only Assignments

**(Reference for all APIs used and the Learn version they are available in is @ [https://developer.blackboard.com](https://community.blackboard.com/developer.blackboard.com))**

1. Use 3LO to get an access code for the student account that will submit
the attempt to the assignment. 3LO MUST be used for this process.

NOTES: 
* Use Status read write, write is required to POST the assignment.
* LOG OUT of any browser session with the Learn system you've been working with
before doing the next step where you will log in with the student account.

  a. Put the following URL in a browser's address field. Use the FQDN of the
Learn system you are working with. The client_id is the REST Application Key.
(Not the ID.)
</code></pre></div></div>
<p>https://bd-partner-a-ultra.blackboard.com/learn/api/public/v1/oauth2/authorizationcode?redirect_uri=https://localhost&amp;response_type=code&amp;client_id=d128e50d-c91e-47d3-a97e-9d0c8a77fb5d&amp;scope=read write&amp;state=xyzzy</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Your browser should take you to the Learn login page. If you see the dialog to
accept cookies, accept the dialog. Then repeat a. There is a bug that won't
take you past b. if you've not previously accepted the cookie disclosure
dialog.

  b. Log in with the student account that will be submitting the assignment
attempt. Accept any dialog that pops up.

Your browser's address field will be redirected to a URL like the following.
You SHOULD see something about being unreachable in the browser. That's OK.
</code></pre></div></div>
<p>https://localhost/?code=g84Xx0YaEz1iqS6HFRq0X9MdRTnQ48FT&amp;state=xyzzy</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
**Our code is: g84Xx0YaEz1iqS6HFRq0X9MdRTnQ48FT This is the code we use in the next step to get an access token.**

2. Use the 2nd-leg of 3LO to get an access token - POST using the code,
our application key, and secret to the oauth2/token endpoint.

Note: the redirect_uri must match the redirect_uri we used when we got the
code.
</code></pre></div></div>
<p>curl -k –user d128e50d-c91e-47d3-a97e-9d0c8a77fb5d:sorryyoucanthavemysecret –data “grant_type=authorization_code” https://bd-partner-a-ultra.blackboard.com/learn/api/public/v1/oauth2/token?code=g84Xx0YaEz1iqS6HFRq0X9MdRTnQ48FT&amp;redirect_uri=https://localhost</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
We get an access token back to use for submitting the students assignment
attempt.
</code></pre></div></div>
<p>{“access_token”:”4mgoFlQoi4Jq4biKpU4R264wugsKF9R1”,”token_type”:”bearer”,”expires_in”:3599,”scope”:”read write”,”user_id”:”507ba08376e1498cba8c6cd35b003aa2”}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
3. Upload the file to be attached to the attempt into temporary storage.
It's temporary and needs to be used quickly
</code></pre></div></div>
<p>curl -X POST -H “Authorization: Bearer 4mgoFlQoi4Jq4biKpU4R264wugsKF9R1” https://bd-partner-a-ultra.blackboard.com/learn/api/public/v1/uploads -F “[file=@/Users/mbk/Documents/2016.03.BlackboardPartnerUpdate.pdf]”</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
We get back an ID that we use to attach the file to the attempt.
</code></pre></div></div>
<p>{“id”:”BD-BD9C08679892561211D99DB4C817FE68-67545ce854b54d3fb062e38aefeee47c”}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
4. Submit the attempt. We're using the gradeColumnId":"_3297_1" that
we got when we created the assignment.

The "studentSubmision" is in bbML format. Reference: [Blackboard Markup
Language - BbML](#Blackboard%20Markup%20Language%20-%20BbML.html)
</code></pre></div></div>
<p>curl -k -X POST -H “Authorization: Bearer 4mgoFlQoi4Jq4biKpU4R264wugsKF9R1” -H “Content-Type: application/json” –data ‘{“studentComments”:”this is the student commment”,”studentSubmission”: “<!-- {\"bbMLEditorVersion\":1} --> &lt;a href="bbupload://BD-BD9C08679892561211D99DB4C817FE68-67545ce854b54d3fb062e38aefeee47c" data-bbfile="{"render":"inline","linkName":"2016.03.BlackboardPartnerUpdate.pdf","mimeType":"application/pdf"}"&gt;2016.03.BlackboardPartnerUpdate.pdf&lt;<em>/a&gt;”}:</em>’ https://bd-partner-a-ultra.blackboard.com/learn/api/public/v2/courses/courseId:mbk-ultra-
course/gradebook/columns/_3297_1/attempts</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
We get back an attempt ID for an InProgress student submission. We use the
attempt ID in the next step to set the attempt to needs grading so that the
instructor sees the attempt. Attempts that are InProgress are not available to
the instructor in the GUI.
</code></pre></div></div>
<p>{“id”:”_528_1”,”userId”:”_649_1”,”status”:”InProgress”,”studentSubmission”:”<!-- {\"bbMLEditorVersion\":1} -->\n&lt;a href="https://bd-partner-a-ultra.blackboard.com/bbcswebdav/xid-23611_1" data-bbfile="{"render":"inline","linkName":"2016.03.BlackboardPartnerUpdate.pdf","mimeType":"application/pdf"}"&gt;2016.03.BlackboardPartnerUpdate.pdf&lt;/a&gt;”,”exempt”:false,”created”:”2018-05-18T02:48:18.329Z”}</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
5. Set the attempt to "NeedsGrading"
</code></pre></div></div>
<p>curl -k -X PATCH -H “Authorization: Bearer 4mgoFlQoi4Jq4biKpU4R264wugsKF9R1” -H “Content-Type: application/json” –data ‘{“status”:”NeedsGrading”}:’ https://bd-partner-a-ultra.blackboard.com/learn/api/public/v2/courses/courseId:mbk-ultra-
course/gradebook/columns/_3297_1/attempts_528_1</p>

<p>{“id”:”528_1”,”userId”:”_649_1”,”status”:”NeedsGrading”,”studentSubmission”:”<!-- {\"bbMLEditorVersion\":1} -->\n&lt;a href="[https://bd-partner-a-ultra.blackboard.com/bbcswebdav/xid-23611_1” data-bbfile="{"render":"inline","linkName":"2016.03.BlackboardPartnerUpdate.pdf","mimeType":"application/pdf"}"&gt;2016.03.BlackboardPartnerUpdate.pdf&lt;/a&gt;”,”exempt”:false,”created”:”2018-05-18T02:48:18.329Z”}
```</p>

<p>Now, logged in as the instructor, we can see that there has been 1 submission.
And we see the student’s submission with the attachment.</p>

<h2 id="common-errors">Common Errors</h2>

<ul>
  <li>COMMON ERROR: You used 3LO to get an Access Token. You forgot to set the
scope correctly and are getting permission denied errors. 404 etc.</li>
  <li>SOLUTION: Go back through the 3LO process and specify the scope necessary
to make your REST calls.</li>
</ul>

<h2 id="conclusion">Conclusion</h2>

<p>We hope that the above demonstration gives you a helpful peek under the hood
as to what is going on when you make REST calls to a Learn system. You can
take these cURL commands and use them to make all of the REST calls documented
here: <a href="https://developer.blackboard.com/portal/displayApi">Explore APIs</a></p>


</div>
    </section>
  </body>
</html>