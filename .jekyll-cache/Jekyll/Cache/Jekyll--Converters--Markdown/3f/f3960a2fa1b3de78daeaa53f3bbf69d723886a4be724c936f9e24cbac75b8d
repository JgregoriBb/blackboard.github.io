I"–'<h1 id="lti-events">LTI Events</h1>
<p><em>Author: Scott Hurrey</em><br />
<em>Categories: [â€˜Caliperâ€™]</em><br />
<em>Tags: [â€˜ltiâ€™, â€˜developersâ€™, â€˜standardsâ€™, â€˜caliperâ€™, â€˜imsâ€™, â€˜ims globalâ€™, â€˜ltieventâ€™, â€˜developerâ€™]</em></p>
<hr />

<p>Blackboard Learnâ€™s Caliper Analytics stream emits an LTIEvent when any user:</p>

<ul>
  <li><strong>Clicks an LTI link</strong></li>
  <li><strong>Returns from an LTI link</strong></li>
</ul>

<p>Here is some of the key data that is associated with these events:</p>

<h2 id="ltievent">LTIEvent</h2>

<p><strong>actor.@id</strong> - contains a unique ID of the user (the ID is known to Bb)</p>

<p><strong>extensions</strong> - contains a tag called <strong>bb:user.externalId</strong> with the batch_uid for the user</p>

<p><strong>object.launchUrl</strong> - URL of the LTI Provider</p>

<p><strong>object.launchParameters</strong> - name/value pairs passed</p>

<p><strong>group.courseNumber</strong> - the course batch_uid (i.e. the ID sent in by LIS or Data Integration)</p>

<p><strong>action</strong> - â€¦/action#LTILaunch <em><strong>or</strong></em> â€¦/action#LTILaunchReturn</p>

<h2 id="sample-workflow">Sample Workflow</h2>

<p>Here is a sample of what a workflow might look like:</p>

<ol>
  <li><a href="#1-user-clicks-lti-link">User Clicks LTI Link</a></li>
  <li><a href="#2-user-returns-from-lti-tool">User Returns From LTI Tool</a></li>
</ol>

<h3 id="1-user-clicks-lti-link">1. User Clicks LTI Link</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    {  
    Â Â Â Â  "sensor": "df1b6234-73e8-45a4-b953-4066760dfbda",  
    Â Â Â Â  "sendTime": "2015-12-10T21:31:13.439Z",  
    Â Â Â Â  "data": [{  
    Â Â Â Â Â Â Â Â Â  "@context": "http://caliper.blackboard.com/ctx/caliper/v1/Context",  
    Â Â Â Â Â Â Â Â Â  "@type": "http://caliper.blackboard.com/caliper/v1/LTIEvent",  
    Â Â Â Â Â Â Â Â Â  "actor": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@id": "fake://cloud.bb/v1/sites/site1234/users/user1_uuid",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@context": "http://purl.imsglobal.org/ctx/caliper/v1/Context",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@type": "http://purl.imsglobal.org/caliper/v1/lis/Person",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "name": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "description": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "extensions": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "bb:user.id": "_1_2",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "bb:user.externalId": "batchuid-user1"  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateCreated": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateModified": null  
    Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â  "action": "http://caliper.blackboard.com/vocab/caliper/v1/action#LTILaunch",  
    Â Â Â Â Â Â Â Â Â  "object": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@context": "http://caliper.blackboard.com/ctx/caliper/v1/Context",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@type": "http://caliper.blackboard.com/caliper/v1/LTILaunchInfo",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@id": "https://example.edu/launch/launch1234",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "launchUrl": "https://example.edu/launch/launch1234",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "launchParameters": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "resource_linkid": "link1234",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "blah": "blah"  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "customParameters": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "custom_foo": "foo",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "custom_bar": "bar"  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }  
    Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â  "target": null,  
    Â Â Â Â Â Â Â Â Â  "generated": null,  
    Â Â Â Â Â Â Â Â Â  "eventTime": "2016-01-14T20:54:42.802Z",  
    Â Â Â Â Â Â Â Â Â  "edApp": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@context": "http://purl.imsglobal.org/ctx/caliper/v1/Context",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@id": "fake://cloud.bb/v1/sites/site1234",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@type": "http://purl.imsglobal.org/caliper/v1/SoftwareApplication",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "name": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "description": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "extensions": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â    
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateCreated": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateModified": null  
    Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â  "group": null,  
    Â Â Â Â Â Â Â Â Â  "membership": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@context": "http://purl.imsglobal.org/ctx/caliper/v1/Context",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@id": "fake://cloud.bb/v1/sites/site1234/courses/course123_uuid/members/user1_uuid",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@type": "http://purl.imsglobal.org/caliper/v1/lis/Membership",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "name": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "description": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "extensions": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â    
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateCreated": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateModified": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "member": "fake://cloud.bb/v1/sites/site1234/users/user1_uuid",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "organization": "fake://cloud.bb/v1/sites/site1234/courses/course123_uuid",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "roles": ["http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"],  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "status": "http://purl.imsglobal.org/vocab/lis/v2/status#Active"  
    Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â  "federatedSession": "session123"  
    Â Â Â Â  }]  
    }
</code></pre></div></div>

<p><a href="#lti-events">Return to top</a></p>

<h3 id="2-user-returns-from-lti-tool">2. User Returns From LTI Tool</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    {  
    Â Â Â Â  "sensor": "df1b6234-73e8-45a4-b953-4066760dfbda",  
    Â Â Â Â  "sendTime": "2015-12-10T21:31:13.439Z",  
    Â Â Â Â  "data": [{  
    Â Â Â Â Â Â Â Â Â  "@context": "http://caliper.blackboard.com/ctx/caliper/v1/Context",  
    Â Â Â Â Â Â Â Â Â  "@type": "http://caliper.blackboard.com/caliper/v1/LTIEvent",  
    Â Â Â Â Â Â Â Â Â  "actor": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@id": "fake://cloud.bb/v1/sites/site1234/users/user1_uuid",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@context": "http://purl.imsglobal.org/ctx/caliper/v1/Context",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@type": "http://purl.imsglobal.org/caliper/v1/lis/Person",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "name": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "description": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "extensions": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "bb:user.id": "_1_2",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "bb:user.externalId": "batchuid-user1"  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateCreated": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateModified": null  
    Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â  "action": "http://caliper.blackboard.com/vocab/caliper/v1/action#LTILaunchReturn",  
    Â Â Â Â Â Â Â Â Â  "object": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@context": "http://caliper.blackboard.com/ctx/caliper/v1/Context",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@type": "http://caliper.blackboard.com/caliper/v1/LTILaunchReturnInfo",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@id": "https://example.edu/launchReturnlaunch1234",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "destinationUrl": "https://example.edu/linkIdlink1234",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "linkId": "link1234",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "launchTime": "2016-01-14T21:00:09.436Z"  
    Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â  "target": null,  
    Â Â Â Â Â Â Â Â Â  "generated": null,  
    Â Â Â Â Â Â Â Â Â  "eventTime": "2016-01-14T21:00:09.436Z",  
    Â Â Â Â Â Â Â Â Â  "edApp": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@context": "http://purl.imsglobal.org/ctx/caliper/v1/Context",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@id": "fake://cloud.bb/v1/sites/site1234",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@type": "http://purl.imsglobal.org/caliper/v1/SoftwareApplication",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "name": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "description": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "extensions": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â    
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateCreated": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateModified": null  
    Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â  "group": null,  
    Â Â Â Â Â Â Â Â Â  "membership": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@context": "http://purl.imsglobal.org/ctx/caliper/v1/Context",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@id": "fake://cloud.bb/v1/sites/site1234/courses/course123_uuid/members/user1_uuid",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "@type": "http://purl.imsglobal.org/caliper/v1/lis/Membership",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "name": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "description": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "extensions": {  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â    
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateCreated": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "dateModified": null,  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "member": "fake://cloud.bb/v1/sites/site1234/users/user1_uuid",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "organization": "fake://cloud.bb/v1/sites/site1234/courses/course123_uuid",  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "roles": ["http://purl.imsglobal.org/vocab/lis/v2/membership#Learner"],  
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  "status": "http://purl.imsglobal.org/vocab/lis/v2/status#Active"  
    Â Â Â Â Â Â Â Â Â  },  
    Â Â Â Â Â Â Â Â Â  "federatedSession": "session123"  
    Â Â Â Â  }]  
    }
</code></pre></div></div>

<p><a href="#lti-events">Return to top</a></p>

:ET