I"â_<h1 id="rest-demo-using-java">REST Demo Using Java</h1>
<p><em>Author: Scott Hurrey</em><br />
<em>Categories: []</em><br />
<em>Tags: [â€˜restâ€™, â€˜javaâ€™, â€˜blackboard learnâ€™, â€˜exampleâ€™, â€˜sample codeâ€™, â€˜saasâ€™, â€˜developerâ€™]</em></p>
<hr />

<p>The rest demo script demonstrates authenticating a REST application,
management and use of the authorization token, and creating, updating,
discovering, and deleting supported Learn objects. For a more complete tutorial, check out this <a href="Tutorial%3A%20Build%20a%20Java%20Command%20Line%20REST%20Application.html">page</a> to walkthrough building a Java command-line application.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>You must <a href="Register%20as%20a%20Developer%20and%20Manage%20Your%20Applications%20with%20the%20Developer%20Portal.html">register a developer account and application</a> in the Developer Portal</li>
  <li>You must 
<a href="Managing%20REST%20Integrations%20in%20Learn:%20The%20REST%20Integrations%20Tool%20for%20System%20Administrators.html">register your application</a> in Blackboard Learn</li>
  <li>You must also configure the script as outlined in the README for the project</li>
</ul>

<p>This webapp allows you to:</p>

<ul>
  <li>Authenticate</li>
  <li>Create, Read, and Update a Data Source</li>
  <li>Create, Read, and Update a Term</li>
  <li>Create, Read, and Update a Course</li>
  <li>Create, Read, and Update a User</li>
  <li>Create, Read, and Update a Membership</li>
  <li>Delete created objects in reverse order of create - membership, user, course, term, datasource.</li>
</ul>

<p>All generated output is sent to the browser.</p>

<p><strong>This is not meant to be a Java tutorial. It will not teach you to write code
in Java. It will, however, give a Developer familiar with Java the knowledge
necessary to build a Web Services integration.</strong></p>

<h2 id="assumptions">Assumptions</h2>

<p>This help topic assumes the Developer:</p>

<ul>
  <li>is familiar with Java</li>
  <li>has Tomcat running somewhere the webapp can be installed</li>
  <li>has obtained a copy of the <a href="https://github.com/blackboard/BBDN-REST-Demo-Java-Webapp">source code</a> and built and deployed it to Tomcat in conjunction with the project <a href="https://github.com/blackboard/BBDN-REST-Demo-Java-Webapp/blob/master/README.html">README.html</a> file.</li>
  <li>has a REST-enabled Blackboard Learn instance.</li>
</ul>

<h2 id="code-walkthrough">Code Walkthrough</h2>

<p>To build an integration with the Blackboard REST Web Services, regardless of
the programming language of choice, can really be summed up in two steps:</p>

<ol>
  <li>Use the Application Key and Secret to obtain an OAuth 2.0 access token, as described in the <a href="Basic%20Authentication.html">Basic Authentication</a> document.</li>
  <li>Call the appropriate REST endpoint with the appropriate data to perform the appropriate action.</li>
</ol>

<h4 id="authorization-and-authentication">Authorization and Authentication</h4>

<p>The REST Services rely on OAuth 2.0 Bearer Tokens for authentication. A
request is made to the token endpoint with a Basic Authorization header
containing the base64-encoded key:secret string as its key. The token service
returns a JSON object containing the Access Token, the Token Type, and the
number of seconds until the token expires. The token is set to expire after
one hour, and subsequent calls to retrieve the token will return the same
token with an updated expiry time until such time that the token has expired.
There is no refresh token and currently no revoke token method.</p>

<p>The java code handles this in <code class="highlighter-rouge">bbdn.rest.Authorizer</code>:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Â  HttpHeaders headers = new HttpHeaders();
    Â  headers.add("Authorization", "Basic " + getHash());
    Â  headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);
    Â Â  
    Â  HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;("grant_type=client_credentials",headers);
    Â  
    Â  ResponseEntity&lt;Token&gt; response = restTemplate.exchange(uri, HttpMethod.POST, request, Token.class);
    Â  Â Â Â Â Â  
    Â  Token token = response.getBody();
</code></pre></div></div>

<p>The JSON response is serialized into the Token object, and you may then
retrieve those values from that object.</p>

<h4 id="calling-services">Calling Services</h4>

<p>The individual service calls are handled by Java Classes in service specific
packages, that all implement the <code class="highlighter-rouge">bbdn.rest.RestHandler</code> interface. The
interface is used to normalize each service handler to make additional service
implementation standardized as new endpoints are added.</p>

<p>RestHandler dictates that four methods must be implemented:</p>

<ul>
  <li>String createObject(String access_token);</li>
  <li>String readObject(String access_token);</li>
  <li>String updateObject(String access_token);</li>
  <li>String deleteObject(String access_token);</li>
</ul>

<p>Each of these methods creates the JSON body when appropriate and then calls
<code class="highlighter-rouge">bbdn.rest.RestRequest</code> to generate the appropriate HTTP Request, ship it to
Learn, and return the JSON response as a String to be displayed in the browser
window.</p>

<p>This all happens with the following code:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    public static String sendRequest(String sUri, HttpMethod method, String access_token, String body) {
    Â Â Â Â  try {
    Â Â Â Â Â Â Â Â Â  RestTemplate restTemplate = new RestTemplate();
    Â Â Â Â Â Â Â Â Â  // Workaround for allowing unsuccessful HTTP Errors to still print to the screen
    Â Â Â Â Â Â Â Â Â  restTemplate.setErrorHandler(new DefaultResponseErrorHandler(){
    Â Â Â Â Â Â Â Â Â Â Â Â Â  protected boolean hasError(HttpStatus statusCode) {
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  return false;
    Â Â Â Â Â Â Â Â Â  }});
    Â Â Â Â Â Â Â Â Â  // Workaround to allow for PATCH requests
    Â Â Â Â Â Â Â Â Â  HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();
    Â Â Â Â Â Â Â Â Â  restTemplate.setRequestFactory(requestFactory);
    Â Â Â Â Â Â Â Â  
    Â Â Â Â Â Â Â Â Â  URI uri = null;
    Â Â Â Â Â Â Â Â Â  try {
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  uri = new URI(RestConstants.HOSTNAME + sUri);
    Â Â Â Â Â Â Â Â Â  } catch (URISyntaxException e) {
    Â Â Â Â Â Â Â Â Â Â Â Â Â Â  e.printStackTrace();
    Â Â Â Â Â Â Â Â Â  }
    Â Â Â Â Â Â Â Â  
    Â Â Â Â Â Â Â Â Â  HttpHeaders headers = new HttpHeaders();
    Â Â Â Â Â Â Â Â Â  headers.add("Authorization", "Bearer " + access_token);
    Â Â Â Â Â Â Â Â Â  headers.setContentType(MediaType.APPLICATION_JSON);
    Â Â Â Â Â Â Â Â Â  HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(body, headers);
    Â Â Â Â Â Â Â Â Â  
    Â Â Â Â Â Â Â Â Â  ResponseEntity&lt;String&gt; response = restTemplate.exchange(uri, method, request, String.class);
    Â Â Â Â Â Â Â Â Â  return (response.toString());
    Â Â Â Â  }
    Â Â Â Â  catch (Exception e) {
    Â Â Â Â Â Â Â Â Â  return(e.getMessage());
    Â Â Â Â  }
    }
</code></pre></div></div>

<p>End points are generally defined as <code class="highlighter-rouge">/learn/api/public/v1/&lt;object
type&gt;/&lt;objectId&gt;</code>. Object ID can be either the pk1, like <code class="highlighter-rouge">_1_1</code>, or as the
batchuid. This value should be prepended by externalId:, like
<code class="highlighter-rouge">externalId:test101</code>.</p>

<p>For example, to retrieve a course by the pk1 <code class="highlighter-rouge">_1_1</code>, you would call <strong>GET
/learn/api/public/v1/courses/_1_1</strong>. To retrieve by the batchuid <code class="highlighter-rouge">test101</code>, you
would call <strong>GET /learn/api/public/v1/courses/externalId:test101.</strong></p>

<p>Create is sent to Learn as a HTTP POST message with a JSON body that defines
the object. The endpoint should omit the objectId, as this will be generated
on creation.</p>

<p>Read is sent to Learn as a HTTP GET message with an empty body. The endpoint
should include the objectId being retrieved.</p>

<p>Update is sent to Learn as a HTTP PATCH message with a JSON body that defines
the object. The endpoint should include the objectId being updated.</p>

<p>Delete is sent to Learn as a HTTP DELETE message with empty body. The endpoint
should include the objectId being deleted.</p>

<hr />

<h3 id="datasources">Datasources</h3>

<p>Datasources are handled in <code class="highlighter-rouge">bbdn.rest.datasources.DatasourceHandler</code>. As
illustrated above, this Class implements the RestHandler interface and exposes
four methods. It also includes a private method to create the JSON payload.</p>

<p><strong>Create</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String createObject(String access_token) {
    Â Â Â Â Â  return(RestRequest.sendRequest(RestConstants.DATASOURCE_PATH, HttpMethod.POST, access_token, getBody()));
    }
</code></pre></div></div>

<p><strong>Read</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String readObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.DATASOURCE_PATH + "/externalId:" + RestConstants.DATASOURCE_ID, HttpMethod.GET, access_token, ""));
    }
</code></pre></div></div>

<p><strong>Update</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String updateObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.DATASOURCE_PATH + "/externalId:" + RestConstants.DATASOURCE_ID, HttpMethod.PATCH, access_token, getBody()));
    }
</code></pre></div></div>

<p><strong>Delete</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     @Override
    public String deleteObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.DATASOURCE_PATH + "/externalId:" + RestConstants.DATASOURCE_ID, HttpMethod.DELETE, access_token, ""));
    }
</code></pre></div></div>

<p><strong>Create Body</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    private String getBody() {
    Â Â Â Â  ObjectMapper objMapper = new ObjectMapper();
    Â Â Â Â  JsonNode datasource = objMapper.createObjectNode();
    Â Â Â Â  ((ObjectNode) datasource).put("externalId", RestConstants.DATASOURCE_ID);
    Â Â Â Â  ((ObjectNode) datasource).put("description", RestConstants.DATASOURCE_DESCRIPTION);
    Â Â Â Â  String body = "";
    Â Â Â Â  try {
    Â Â Â Â Â Â Â Â Â  body = objMapper.writeValueAsString(datasource);
    Â Â Â Â  } catch (JsonProcessingException e) {
    Â Â Â Â Â Â Â Â Â  e.printStackTrace();
    Â Â Â Â  }
    Â Â Â Â  return(body);
    }
</code></pre></div></div>

<hr />

<h3 id="terms">Terms</h3>

<p>Terms are handled in <code class="highlighter-rouge">bbdn.rest.terms.TermHandler</code>. As illustrated above, this
Class implements the RestHandler interface and exposes four methods. It also
includes a private method to create the JSON payload. In this initial release,
we are omitting the datasource. This is because the externalId version of the
datasource is not accepted in JSON payloads at this time. We could create a
CONSTANT and set it to what we think it will be, but the ID isnâ€™t set until
the Datasource is created, so we donâ€™t know for sure what it will be.</p>

<p><strong>Create</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String createObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.TERM_PATH, HttpMethod.POST, access_token, getBody()));
    }
</code></pre></div></div>

<p><strong>Read</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String readObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.TERM_PATH + "/externalId:" + RestConstants.TERM_ID, HttpMethod.GET, access_token, ""));
    }
</code></pre></div></div>

<p><strong>Update</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String updateObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.TERM_PATH + "/externalId:" + RestConstants.TERM_ID, HttpMethod.PATCH, access_token, getBody()));
    }
</code></pre></div></div>

<p><strong>Delete</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String deleteObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.TERM_PATH + "/externalId:" + RestConstants.TERM_ID, HttpMethod.DELETE, access_token, ""));
    }
</code></pre></div></div>

<p><strong>Create Body</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    private String getBody() {
    Â Â Â Â  ObjectMapper objMapper = new ObjectMapper();
    Â Â Â Â  ObjectNode term = objMapper.createObjectNode();
    Â Â Â Â  term.put("externalId", RestConstants.TERM_ID);
    Â Â Â Â  //term.put("dataSourceId", RestConstants.DATASOURCE_ID);
    Â Â Â Â  term.put("name", RestConstants.TERM_NAME);
    Â Â Â Â  term.put("description", RestConstants.TERM_DISPLAY);
    Â Â Â Â  ObjectNode availability = term.putObject("availability");
    Â Â Â Â  availability.put("available", "Yes");
    Â Â Â Â  ObjectNode duration = availability.putObject("duration");
    Â Â Â Â  duration.put("type",Â  "Continuous");
    Â Â Â Â  String body = "";
    Â Â Â Â  try {
    Â Â Â Â Â Â Â Â Â  body = objMapper.writeValueAsString(term);
    Â Â Â Â  } catch (JsonProcessingException e) {
    Â Â Â Â Â Â Â Â Â  e.printStackTrace();
    Â Â Â Â  }
    Â Â Â Â  return(body);
    }
</code></pre></div></div>

<hr />

<h3 id="courses">Courses</h3>

<p>Course are handled in <code class="highlighter-rouge">bbdn.rest.course.CourseHandler</code>. As illustrated above,
this Class implements the RestHandler interface and exposes four methods. It
also includes a private method to create the JSON payload. In this initial
release, we are omitting the datasource. This is because the externalId
version of the datasource is not accepted in JSON payloads at this time. We
could create a CONSTANT and set it to what we think it will be, but the ID
isnâ€™t set until the Datasource is created, so we donâ€™t know for sure what it
will be.</p>

<p><strong>Create</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String createObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.COURSE_PATH, HttpMethod.POST, access_token, getBody()));
    }
</code></pre></div></div>

<p><strong>Read</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String readObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.COURSE_PATH + "/externalId:" + RestConstants.COURSE_ID, HttpMethod.GET, access_token, ""));
    }
</code></pre></div></div>

<p><strong>Update</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String updateObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.COURSE_PATH + "/externalId:" + RestConstants.COURSE_ID, HttpMethod.PATCH, access_token, getBody()));
    }
</code></pre></div></div>

<p><strong>Delete</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String deleteObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.COURSE_PATH + "/externalId:" + RestConstants.COURSE_ID, HttpMethod.DELETE, access_token, ""));
    }
</code></pre></div></div>

<p><strong>Create Body</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    private String getBody() {
    Â Â Â Â  ObjectMapper objMapper = new ObjectMapper();
    Â Â Â Â  ObjectNode course = objMapper.createObjectNode();
    Â Â Â Â  course.put("externalId", RestConstants.COURSE_ID);
    Â Â Â Â  //course.put("dataSourceId", RestConstants.DATASOURCE_ID);
    Â Â Â Â  course.put("courseId", RestConstants.COURSE_ID);
    Â Â Â Â  course.put("name", RestConstants.COURSE_NAME);
    Â Â Â Â  course.put("description", RestConstants.COURSE_DESCRIPTION);
    Â Â Â Â  course.put("allowGuests", "true");
    Â Â Â Â  course.put("readOnly", "false");
    Â Â Â Â  course.put("termId", RestConstants.TERM_ID);
    Â Â Â Â  ObjectNode availability = course.putObject("availability");
    Â Â Â Â  availability.put("duration", "continuous");
    Â Â Â Â  String body = "";
    Â Â Â Â  try {
    Â Â Â Â Â Â Â Â Â  body = objMapper.writeValueAsString(course);
    Â Â Â Â  } catch (JsonProcessingException e) {
    Â Â Â Â Â Â Â Â Â  e.printStackTrace();
    Â Â Â Â  }
    Â Â Â Â  return(body);
    }
</code></pre></div></div>

<hr />

<h3 id="users">Users</h3>

<p>Users are handled in <code class="highlighter-rouge">bbdn.rest.users.UserHandler</code>. As illustrated above, this
Class implements the RestHandler interface and exposes four methods. It also
includes a private method to create the JSON payload. In this initial release,
we are omitting the datasource. This is because the externalId version of the
datasource is not accepted in JSON payloads at this time. We could create a
CONSTANT and set it to what we think it will be, but the ID isnâ€™t set until
the Datasource is created, so we donâ€™t know for sure what it will be.</p>

<p><strong>Create</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String createObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.USER_PATH, HttpMethod.POST, access_token, getBody()));
    }
</code></pre></div></div>

<p><strong>Read</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String readObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.USER_PATH + "/externalId:" + RestConstants.USER_ID, HttpMethod.GET, access_token, ""));
    }
</code></pre></div></div>

<p><strong>Update</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String updateObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.USER_PATH + "/externalId:" + RestConstants.USER_ID, HttpMethod.PATCH, access_token, getBody()));
    }
</code></pre></div></div>

<p><strong>Delete</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String deleteObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.USER_PATH + "/externalId:" + RestConstants.USER_ID, HttpMethod.DELETE, access_token, ""));
    }
</code></pre></div></div>

<p><strong>Create Body</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    private String getBody() {
    Â Â Â Â  ObjectMapper objMapper = new ObjectMapper();
    Â Â Â Â  ObjectNode user = objMapper.createObjectNode();
    Â Â Â Â  user.put("externalId", RestConstants.USER_ID);
    Â Â Â Â  //user.put("dataSourceId", RestConstants.DATASOURCE_ID);
    Â Â Â Â  user.put("userName", RestConstants.USER_NAME);
    Â Â Â Â  user.put("password", RestConstants.USER_PASS);
    Â Â Â Â  ObjectNode availability = user.putObject("availability");
    Â Â Â Â  availability.put("available", "Yes");
    Â Â Â Â  ObjectNode name = user.putObject("name");
    Â Â Â Â  name.put("given", RestConstants.USER_FIRST);
    Â Â Â Â  name.put("family", RestConstants.USER_LAST);
    Â Â Â Â  ObjectNode contact = user.putObject("contact");
    Â Â Â Â  contact.put("email", RestConstants.USER_EMAIL);
    Â Â Â Â  String body = "";
    Â Â Â Â  try {
    Â Â Â Â Â Â Â Â Â  body = objMapper.writeValueAsString(user);
    Â Â Â Â  } catch (JsonProcessingException e) {
    Â Â Â Â Â Â Â Â Â  e.printStackTrace();
    Â Â Â Â  }
    Â Â Â Â Â  return(body);
    }
</code></pre></div></div>

<hr />

<h3 id="memberships">Memberships</h3>

<p>Memberships are handled in <code class="highlighter-rouge">bbdn.rest.memberships.MemberHandler</code>. As illustrated
above, this Class implements the RestHandler interface and exposes four
methods. It also includes a private method to create the JSON payload. In this
initial release, we are omitting the datasource. This is because the
externalId version of the datasource is not accepted in JSON payloads at this
time. We could create a CONSTANT and set it to what we think it will be, but
the ID isnâ€™t set until the Datasource is created, so we donâ€™t know for sure
what it will be. In addition, the endpoint for memberships is a bit different,
in that it is a sub-call to courses, so the endpoint would look like
<code class="highlighter-rouge">/learn/api/public/v1/courses/&lt;courseId&gt;/users/&lt;userId&gt;</code>.</p>

<p><strong>Create</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String createObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.COURSE_PATH + "/externalId:" + RestConstants.COURSE_ID + "/users/externalId:"+ RestConstants.USER_ID, HttpMethod.PUT, access_token, getBody()));
    }
</code></pre></div></div>

<p><strong>Read</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String readObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.COURSE_PATH + "/externalId:" + RestConstants.COURSE_ID + "/users/externalId:"+ RestConstants.USER_ID, HttpMethod.GET, access_token, ""));
    }
</code></pre></div></div>

<p><strong>Update</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String updateObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.COURSE_PATH + "/externalId:" + RestConstants.COURSE_ID + "/users/externalId:"+ RestConstants.USER_ID, HttpMethod.PATCH, access_token, getBody()));
    }
</code></pre></div></div>

<p><strong>Delete</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    @Override
    public String deleteObject(String access_token) {
    Â Â Â Â  return(RestRequest.sendRequest(RestConstants.COURSE_PATH + "/externalId:" + RestConstants.COURSE_ID + "/users/externalId:"+ RestConstants.USER_ID, HttpMethod.DELETE, access_token, ""));
    }
</code></pre></div></div>

<p><strong>Create Body</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    private String getBody() {
    Â Â Â Â  ObjectMapper objMapper = new ObjectMapper();
    Â Â Â Â  ObjectNode membership = objMapper.createObjectNode();
    Â Â Â Â  //membership.put("dataSourceId", RestConstants.DATASOURCE_ID);
    Â Â Â Â  ObjectNode availability = membership.putObject("availability");
    Â Â Â Â  availability.put("available", "Yes");
    Â Â Â Â  membership.put("courseRoleId", "Instructor");
    Â Â Â Â  String body = "";
    Â Â Â Â  try {
    Â Â Â Â Â Â Â Â Â  body = objMapper.writeValueAsString(membership);
    Â Â Â Â  } catch (JsonProcessingException e) {
    Â Â Â Â Â Â Â Â Â  e.printStackTrace();
    Â Â Â Â  }
    Â Â Â Â  return(body);
    }
</code></pre></div></div>

<h2 id="conclusion">Conclusion</h2>

<p>All of the code snippets included in this document at included in a sample
REST Demo Java Webapp application available on
<a href="https://github.com/blackboard/BBDN-REST-Demo-Java-Webapp">GitHub</a>. There is a README.html included that talks more specifically about
building and running the code. Feel free to review the code and run it against
a test or development Learn instance to see how it works.</p>

:ET